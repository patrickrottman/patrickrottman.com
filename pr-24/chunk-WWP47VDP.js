import{a as gi,b as Er,c as Pr,d as _i,e as Dr,g as Tr,h as Rr,i as Ar}from"./chunk-F3OVS5UV.js";import{a as br,b as xr,c as Cr,d as Sr,e as kr,f as Mr}from"./chunk-HQNN5D3N.js";import{A as X,B as gr,C as _r,G as Ct,J as St,K as vr,L as yr,d as pe,e as hi,f as lr,j as dr,l as Fe,o as pi,p as ur,q as fr,r as mr,v as hr,x as ke,y as pr}from"./chunk-V2BU6DIE.js";import{c as Ve,d as ge,f as ne,g as _e,h as ve}from"./chunk-ZSSD5RUB.js";import{$ as Ue,$b as Xn,A as On,Ac as xt,Bb as m,Bc as sr,C as In,Cb as h,Cc as ar,D as ht,Db as B,Dc as cr,Eb as di,Fa as gt,Fb as ui,Gb as _t,Hb as he,Ia as zn,Ib as vt,Jb as Qn,Kb as F,Lb as Jn,Mb as S,Nb as fi,Ob as K,Pb as Ae,Qb as $,R as Fn,Rb as R,Sb as A,Tb as Yn,U as Vn,Ub as Zn,Va as $n,Vb as We,W as Ln,Wb as y,Xa as v,Xb as Se,Y,Ya as E,Yb as we,_ as pt,_a as Un,_b as Kn,a as b,aa as Z,ac as er,b as O,ba as W,bc as ae,cb as li,cc as Oe,d as Uo,da as P,dc as qe,e as ft,eb as J,ec as tr,f as Dn,fa as Bn,fb as q,fc as yt,g as oe,ga as g,gb as D,h as Tn,ib as Gn,ic as Ie,j as Rn,jb as Hn,kc as Qe,la as Ge,lc as bt,m as M,ma as te,mc as ce,n as ee,na as ie,nb as Re,nc as le,oa as ci,ob as Wn,oc as ir,p as An,pa as Nn,pb as se,q as wn,qa as jn,qb as He,qc as mi,ra as xe,rb as C,sb as G,tb as k,tc as nr,ub as me,v as mt,va as Ce,vb as z,wa as Q,wb as qn,xb as L,yc as rr,za as j,zc as or}from"./chunk-K5GX7DHH.js";var pn=Uo((Zl,hn)=>{"use strict";var u={};u.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)};u.localCName=u.generateIdentifier();u.splitLines=function(i){return i.trim().split(`
`).map(t=>t.trim())};u.splitSections=function(i){return i.split(`
m=`).map((e,n)=>(n>0?"m="+e:e).trim()+`\r
`)};u.getDescription=function(i){let t=u.splitSections(i);return t&&t[0]};u.getMediaSections=function(i){let t=u.splitSections(i);return t.shift(),t};u.matchPrefix=function(i,t){return u.splitLines(i).filter(e=>e.indexOf(t)===0)};u.parseCandidate=function(i){let t;i.indexOf("a=candidate:")===0?t=i.substring(12).split(" "):t=i.substring(10).split(" ");let e={foundation:t[0],component:{1:"rtp",2:"rtcp"}[t[1]]||t[1],protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]};for(let n=8;n<t.length;n+=2)switch(t[n]){case"raddr":e.relatedAddress=t[n+1];break;case"rport":e.relatedPort=parseInt(t[n+1],10);break;case"tcptype":e.tcpType=t[n+1];break;case"ufrag":e.ufrag=t[n+1],e.usernameFragment=t[n+1];break;default:e[t[n]]===void 0&&(e[t[n]]=t[n+1]);break}return e};u.writeCandidate=function(i){let t=[];t.push(i.foundation);let e=i.component;e==="rtp"?t.push(1):e==="rtcp"?t.push(2):t.push(e),t.push(i.protocol.toUpperCase()),t.push(i.priority),t.push(i.address||i.ip),t.push(i.port);let n=i.type;return t.push("typ"),t.push(n),n!=="host"&&i.relatedAddress&&i.relatedPort&&(t.push("raddr"),t.push(i.relatedAddress),t.push("rport"),t.push(i.relatedPort)),i.tcpType&&i.protocol.toLowerCase()==="tcp"&&(t.push("tcptype"),t.push(i.tcpType)),(i.usernameFragment||i.ufrag)&&(t.push("ufrag"),t.push(i.usernameFragment||i.ufrag)),"candidate:"+t.join(" ")};u.parseIceOptions=function(i){return i.substring(14).split(" ")};u.parseRtpMap=function(i){let t=i.substring(9).split(" "),e={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),e.name=t[0],e.clockRate=parseInt(t[1],10),e.channels=t.length===3?parseInt(t[2],10):1,e.numChannels=e.channels,e};u.writeRtpMap=function(i){let t=i.payloadType;i.preferredPayloadType!==void 0&&(t=i.preferredPayloadType);let e=i.channels||i.numChannels||1;return"a=rtpmap:"+t+" "+i.name+"/"+i.clockRate+(e!==1?"/"+e:"")+`\r
`};u.parseExtmap=function(i){let t=i.substring(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1],attributes:t.slice(2).join(" ")}};u.writeExtmap=function(i){return"a=extmap:"+(i.id||i.preferredId)+(i.direction&&i.direction!=="sendrecv"?"/"+i.direction:"")+" "+i.uri+(i.attributes?" "+i.attributes:"")+`\r
`};u.parseFmtp=function(i){let t={},e,n=i.substring(i.indexOf(" ")+1).split(";");for(let r=0;r<n.length;r++)e=n[r].trim().split("="),t[e[0].trim()]=e[1];return t};u.writeFmtp=function(i){let t="",e=i.payloadType;if(i.preferredPayloadType!==void 0&&(e=i.preferredPayloadType),i.parameters&&Object.keys(i.parameters).length){let n=[];Object.keys(i.parameters).forEach(r=>{i.parameters[r]!==void 0?n.push(r+"="+i.parameters[r]):n.push(r)}),t+="a=fmtp:"+e+" "+n.join(";")+`\r
`}return t};u.parseRtcpFb=function(i){let t=i.substring(i.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}};u.writeRtcpFb=function(i){let t="",e=i.payloadType;return i.preferredPayloadType!==void 0&&(e=i.preferredPayloadType),i.rtcpFeedback&&i.rtcpFeedback.length&&i.rtcpFeedback.forEach(n=>{t+="a=rtcp-fb:"+e+" "+n.type+(n.parameter&&n.parameter.length?" "+n.parameter:"")+`\r
`}),t};u.parseSsrcMedia=function(i){let t=i.indexOf(" "),e={ssrc:parseInt(i.substring(7,t),10)},n=i.indexOf(":",t);return n>-1?(e.attribute=i.substring(t+1,n),e.value=i.substring(n+1)):e.attribute=i.substring(t+1),e};u.parseSsrcGroup=function(i){let t=i.substring(13).split(" ");return{semantics:t.shift(),ssrcs:t.map(e=>parseInt(e,10))}};u.getMid=function(i){let t=u.matchPrefix(i,"a=mid:")[0];if(t)return t.substring(6)};u.parseFingerprint=function(i){let t=i.substring(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1].toUpperCase()}};u.getDtlsParameters=function(i,t){return{role:"auto",fingerprints:u.matchPrefix(i+t,"a=fingerprint:").map(u.parseFingerprint)}};u.writeDtlsParameters=function(i,t){let e="a=setup:"+t+`\r
`;return i.fingerprints.forEach(n=>{e+="a=fingerprint:"+n.algorithm+" "+n.value+`\r
`}),e};u.parseCryptoLine=function(i){let t=i.substring(9).split(" ");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}};u.writeCryptoLine=function(i){return"a=crypto:"+i.tag+" "+i.cryptoSuite+" "+(typeof i.keyParams=="object"?u.writeCryptoKeyParams(i.keyParams):i.keyParams)+(i.sessionParams?" "+i.sessionParams.join(" "):"")+`\r
`};u.parseCryptoKeyParams=function(i){if(i.indexOf("inline:")!==0)return null;let t=i.substring(7).split("|");return{keyMethod:"inline",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(":")[0]:void 0,mkiLength:t[2]?t[2].split(":")[1]:void 0}};u.writeCryptoKeyParams=function(i){return i.keyMethod+":"+i.keySalt+(i.lifeTime?"|"+i.lifeTime:"")+(i.mkiValue&&i.mkiLength?"|"+i.mkiValue+":"+i.mkiLength:"")};u.getCryptoParameters=function(i,t){return u.matchPrefix(i+t,"a=crypto:").map(u.parseCryptoLine)};u.getIceParameters=function(i,t){let e=u.matchPrefix(i+t,"a=ice-ufrag:")[0],n=u.matchPrefix(i+t,"a=ice-pwd:")[0];return e&&n?{usernameFragment:e.substring(12),password:n.substring(10)}:null};u.writeIceParameters=function(i){let t="a=ice-ufrag:"+i.usernameFragment+`\r
a=ice-pwd:`+i.password+`\r
`;return i.iceLite&&(t+=`a=ice-lite\r
`),t};u.parseRtpParameters=function(i){let t={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},n=u.splitLines(i)[0].split(" ");t.profile=n[2];for(let o=3;o<n.length;o++){let s=n[o],a=u.matchPrefix(i,"a=rtpmap:"+s+" ")[0];if(a){let c=u.parseRtpMap(a),l=u.matchPrefix(i,"a=fmtp:"+s+" ");switch(c.parameters=l.length?u.parseFmtp(l[0]):{},c.rtcpFeedback=u.matchPrefix(i,"a=rtcp-fb:"+s+" ").map(u.parseRtcpFb),t.codecs.push(c),c.name.toUpperCase()){case"RED":case"ULPFEC":t.fecMechanisms.push(c.name.toUpperCase());break;default:break}}}u.matchPrefix(i,"a=extmap:").forEach(o=>{t.headerExtensions.push(u.parseExtmap(o))});let r=u.matchPrefix(i,"a=rtcp-fb:* ").map(u.parseRtcpFb);return t.codecs.forEach(o=>{r.forEach(s=>{o.rtcpFeedback.find(c=>c.type===s.type&&c.parameter===s.parameter)||o.rtcpFeedback.push(s)})}),t};u.writeRtpDescription=function(i,t){let e="";e+="m="+i+" ",e+=t.codecs.length>0?"9":"0",e+=" "+(t.profile||"UDP/TLS/RTP/SAVPF")+" ",e+=t.codecs.map(r=>r.preferredPayloadType!==void 0?r.preferredPayloadType:r.payloadType).join(" ")+`\r
`,e+=`c=IN IP4 0.0.0.0\r
`,e+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,t.codecs.forEach(r=>{e+=u.writeRtpMap(r),e+=u.writeFmtp(r),e+=u.writeRtcpFb(r)});let n=0;return t.codecs.forEach(r=>{r.maxptime>n&&(n=r.maxptime)}),n>0&&(e+="a=maxptime:"+n+`\r
`),t.headerExtensions&&t.headerExtensions.forEach(r=>{e+=u.writeExtmap(r)}),e};u.parseRtpEncodingParameters=function(i){let t=[],e=u.parseRtpParameters(i),n=e.fecMechanisms.indexOf("RED")!==-1,r=e.fecMechanisms.indexOf("ULPFEC")!==-1,o=u.matchPrefix(i,"a=ssrc:").map(d=>u.parseSsrcMedia(d)).filter(d=>d.attribute==="cname"),s=o.length>0&&o[0].ssrc,a,c=u.matchPrefix(i,"a=ssrc-group:FID").map(d=>d.substring(17).split(" ").map(_=>parseInt(_,10)));c.length>0&&c[0].length>1&&c[0][0]===s&&(a=c[0][1]),e.codecs.forEach(d=>{if(d.name.toUpperCase()==="RTX"&&d.parameters.apt){let f={ssrc:s,codecPayloadType:parseInt(d.parameters.apt,10)};s&&a&&(f.rtx={ssrc:a}),t.push(f),n&&(f=JSON.parse(JSON.stringify(f)),f.fec={ssrc:s,mechanism:r?"red+ulpfec":"red"},t.push(f))}}),t.length===0&&s&&t.push({ssrc:s});let l=u.matchPrefix(i,"b=");return l.length&&(l[0].indexOf("b=TIAS:")===0?l=parseInt(l[0].substring(7),10):l[0].indexOf("b=AS:")===0?l=parseInt(l[0].substring(5),10)*1e3*.95-50*40*8:l=void 0,t.forEach(d=>{d.maxBitrate=l})),t};u.parseRtcpParameters=function(i){let t={},e=u.matchPrefix(i,"a=ssrc:").map(o=>u.parseSsrcMedia(o)).filter(o=>o.attribute==="cname")[0];e&&(t.cname=e.value,t.ssrc=e.ssrc);let n=u.matchPrefix(i,"a=rtcp-rsize");t.reducedSize=n.length>0,t.compound=n.length===0;let r=u.matchPrefix(i,"a=rtcp-mux");return t.mux=r.length>0,t};u.writeRtcpParameters=function(i){let t="";return i.reducedSize&&(t+=`a=rtcp-rsize\r
`),i.mux&&(t+=`a=rtcp-mux\r
`),i.ssrc!==void 0&&i.cname&&(t+="a=ssrc:"+i.ssrc+" cname:"+i.cname+`\r
`),t};u.parseMsid=function(i){let t,e=u.matchPrefix(i,"a=msid:");if(e.length===1)return t=e[0].substring(7).split(" "),{stream:t[0],track:t[1]};let n=u.matchPrefix(i,"a=ssrc:").map(r=>u.parseSsrcMedia(r)).filter(r=>r.attribute==="msid");if(n.length>0)return t=n[0].value.split(" "),{stream:t[0],track:t[1]}};u.parseSctpDescription=function(i){let t=u.parseMLine(i),e=u.matchPrefix(i,"a=max-message-size:"),n;e.length>0&&(n=parseInt(e[0].substring(19),10)),isNaN(n)&&(n=65536);let r=u.matchPrefix(i,"a=sctp-port:");if(r.length>0)return{port:parseInt(r[0].substring(12),10),protocol:t.fmt,maxMessageSize:n};let o=u.matchPrefix(i,"a=sctpmap:");if(o.length>0){let s=o[0].substring(10).split(" ");return{port:parseInt(s[0],10),protocol:s[1],maxMessageSize:n}}};u.writeSctpDescription=function(i,t){let e=[];return i.protocol!=="DTLS/SCTP"?e=["m="+i.kind+" 9 "+i.protocol+" "+t.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+t.port+`\r
`]:e=["m="+i.kind+" 9 "+i.protocol+" "+t.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+t.port+" "+t.protocol+` 65535\r
`],t.maxMessageSize!==void 0&&e.push("a=max-message-size:"+t.maxMessageSize+`\r
`),e.join("")};u.generateSessionId=function(){return Math.random().toString().substr(2,22)};u.writeSessionBoilerplate=function(i,t,e){let n,r=t!==void 0?t:2;return i?n=i:n=u.generateSessionId(),`v=0\r
o=`+(e||"thisisadapterortc")+" "+n+" "+r+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`};u.getDirection=function(i,t){let e=u.splitLines(i);for(let n=0;n<e.length;n++)switch(e[n]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return e[n].substring(2);default:}return t?u.getDirection(t):"sendrecv"};u.getKind=function(i){return u.splitLines(i)[0].split(" ")[0].substring(2)};u.isRejected=function(i){return i.split(" ",2)[1]==="0"};u.parseMLine=function(i){let e=u.splitLines(i)[0].substring(2).split(" ");return{kind:e[0],port:parseInt(e[1],10),protocol:e[2],fmt:e.slice(3).join(" ")}};u.parseOLine=function(i){let e=u.matchPrefix(i,"o=")[0].substring(2).split(" ");return{username:e[0],sessionId:e[1],sessionVersion:parseInt(e[2],10),netType:e[3],addressType:e[4],address:e[5]}};u.isValidSDP=function(i){if(typeof i!="string"||i.length===0)return!1;let t=u.splitLines(i);for(let e=0;e<t.length;e++)if(t[e].length<2||t[e].charAt(1)!=="=")return!1;return!0};typeof hn=="object"&&(hn.exports=u)});var Go=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275cmp=J({type:i,selectors:[["ng-component"]],hostAttrs:["cdk-text-field-style-loader",""],decls:0,vars:0,template:function(n,r){},styles:["textarea.cdk-textarea-autosize{resize:none}textarea.cdk-textarea-autosize-measuring{padding:2px 0 !important;box-sizing:content-box !important;height:auto !important;overflow:hidden !important}textarea.cdk-textarea-autosize-measuring-firefox{padding:2px 0 !important;box-sizing:content-box !important;height:0 !important}@keyframes cdk-text-field-autofill-start{/*!*/}@keyframes cdk-text-field-autofill-end{/*!*/}.cdk-text-field-autofill-monitored:-webkit-autofill{animation:cdk-text-field-autofill-start 0s 1ms}.cdk-text-field-autofill-monitored:not(:-webkit-autofill){animation:cdk-text-field-autofill-end 0s 1ms}"],encapsulation:2,changeDetection:0})}return i})(),wr=lr({passive:!0}),Or=(()=>{class i{_platform=g(pe);_ngZone=g(Q);_styleLoader=g(dr);_monitoredElements=new Map;constructor(){}monitor(e){if(!this._platform.isBrowser)return An;this._styleLoader.load(Go);let n=pi(e),r=this._monitoredElements.get(n);if(r)return r.subject;let o=new M,s="cdk-text-field-autofilled",a=c=>{c.animationName==="cdk-text-field-autofill-start"&&!n.classList.contains(s)?(n.classList.add(s),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!0}))):c.animationName==="cdk-text-field-autofill-end"&&n.classList.contains(s)&&(n.classList.remove(s),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!1})))};return this._ngZone.runOutsideAngular(()=>{n.addEventListener("animationstart",a,wr),n.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(n,{subject:o,unlisten:()=>{n.removeEventListener("animationstart",a,wr)}}),o}stopMonitoring(e){let n=pi(e),r=this._monitoredElements.get(n);r&&(r.unlisten(),r.subject.complete(),n.classList.remove("cdk-text-field-autofill-monitored"),n.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(n))}ngOnDestroy(){this._monitoredElements.forEach((e,n)=>this.stopMonitoring(n))}static \u0275fac=function(n){return new(n||i)};static \u0275prov=Z({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Ir=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=q({type:i});static \u0275inj=W({})}return i})();var $r=(()=>{class i{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,n){this._renderer=e,this._elementRef=n}setProperty(e,n){this._renderer.setProperty(this._elementRef.nativeElement,e,n)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(n){return new(n||i)(E(li),E(j))};static \u0275dir=D({type:i})}return i})(),Ho=(()=>{class i extends $r{static \u0275fac=(()=>{let e;return function(r){return(e||(e=jn(i)))(r||i)}})();static \u0275dir=D({type:i,features:[se]})}return i})(),Ur=new P("");var Wo={provide:Ur,useExisting:Ue(()=>It),multi:!0};function qo(){let i=mi()?mi().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}var Qo=new P(""),It=(()=>{class i extends $r{_compositionMode;_composing=!1;constructor(e,n,r){super(e,n),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!qo())}writeValue(e){let n=e??"";this.setProperty("value",n)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(n){return new(n||i)(E(li),E(j),E(Qo,8))};static \u0275dir=D({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){n&1&&F("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},standalone:!1,features:[ae([Wo]),se]})}return i})();function ye(i){return i==null||(typeof i=="string"||Array.isArray(i))&&i.length===0}function Gr(i){return i!=null&&typeof i.length=="number"}var Ci=new P(""),Si=new P(""),Jo=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Mt=class{static min(t){return Yo(t)}static max(t){return Zo(t)}static required(t){return Ko(t)}static requiredTrue(t){return Xo(t)}static email(t){return es(t)}static minLength(t){return ts(t)}static maxLength(t){return is(t)}static pattern(t){return ns(t)}static nullValidator(t){return Hr(t)}static compose(t){return Zr(t)}static composeAsync(t){return Kr(t)}};function Yo(i){return t=>{if(ye(t.value)||ye(i))return null;let e=parseFloat(t.value);return!isNaN(e)&&e<i?{min:{min:i,actual:t.value}}:null}}function Zo(i){return t=>{if(ye(t.value)||ye(i))return null;let e=parseFloat(t.value);return!isNaN(e)&&e>i?{max:{max:i,actual:t.value}}:null}}function Ko(i){return ye(i.value)?{required:!0}:null}function Xo(i){return i.value===!0?null:{required:!0}}function es(i){return ye(i.value)||Jo.test(i.value)?null:{email:!0}}function ts(i){return t=>ye(t.value)||!Gr(t.value)?null:t.value.length<i?{minlength:{requiredLength:i,actualLength:t.value.length}}:null}function is(i){return t=>Gr(t.value)&&t.value.length>i?{maxlength:{requiredLength:i,actualLength:t.value.length}}:null}function ns(i){if(!i)return Hr;let t,e;return typeof i=="string"?(e="",i.charAt(0)!=="^"&&(e+="^"),e+=i,i.charAt(i.length-1)!=="$"&&(e+="$"),t=new RegExp(e)):(e=i.toString(),t=i),n=>{if(ye(n.value))return null;let r=n.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}function Hr(i){return null}function Wr(i){return i!=null}function qr(i){return Hn(i)?wn(i):i}function Qr(i){let t={};return i.forEach(e=>{t=e!=null?b(b({},t),e):t}),Object.keys(t).length===0?null:t}function Jr(i,t){return t.map(e=>e(i))}function rs(i){return!i.validate}function Yr(i){return i.map(t=>rs(t)?t:e=>t.validate(e))}function Zr(i){if(!i)return null;let t=i.filter(Wr);return t.length==0?null:function(e){return Qr(Jr(e,t))}}function ki(i){return i!=null?Zr(Yr(i)):null}function Kr(i){if(!i)return null;let t=i.filter(Wr);return t.length==0?null:function(e){let n=Jr(e,t).map(qr);return On(n).pipe(mt(Qr))}}function Mi(i){return i!=null?Kr(Yr(i)):null}function Fr(i,t){return i===null?[t]:Array.isArray(i)?[...i,t]:[i,t]}function Xr(i){return i._rawValidators}function eo(i){return i._rawAsyncValidators}function vi(i){return i?Array.isArray(i)?i:[i]:[]}function Et(i,t){return Array.isArray(i)?i.includes(t):i===t}function Vr(i,t){let e=vi(t);return vi(i).forEach(r=>{Et(e,r)||e.push(r)}),e}function Lr(i,t){return vi(t).filter(e=>!Et(i,e))}var Pt=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=ki(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Mi(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},Me=class extends Pt{name;get formDirective(){return null}get path(){return null}},Ee=class extends Pt{_parent=null;name=null;valueAccessor=null},yi=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},os={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Pc=O(b({},os),{"[class.ng-submitted]":"isSubmitted"}),to=(()=>{class i extends yi{constructor(e){super(e)}static \u0275fac=function(n){return new(n||i)(E(Ee,2))};static \u0275dir=D({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){n&2&&z("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[se]})}return i})();var Je="VALID",kt="INVALID",Le="PENDING",Ye="DISABLED",be=class{},Dt=class extends be{value;source;constructor(t,e){super(),this.value=t,this.source=e}},Ke=class extends be{pristine;source;constructor(t,e){super(),this.pristine=t,this.source=e}},Xe=class extends be{touched;source;constructor(t,e){super(),this.touched=t,this.source=e}},Be=class extends be{status;source;constructor(t,e){super(),this.status=t,this.source=e}},bi=class extends be{source;constructor(t){super(),this.source=t}},xi=class extends be{source;constructor(t){super(),this.source=t}};function io(i){return(Ft(i)?i.validators:i)||null}function ss(i){return Array.isArray(i)?ki(i):i||null}function no(i,t){return(Ft(t)?t.asyncValidators:i)||null}function as(i){return Array.isArray(i)?Mi(i):i||null}function Ft(i){return i!=null&&!Array.isArray(i)&&typeof i=="object"}function cs(i,t,e){let n=i.controls;if(!(t?Object.keys(n):n).length)throw new pt(1e3,"");if(!n[e])throw new pt(1001,"")}function ls(i,t,e){i._forEachChild((n,r)=>{if(e[r]===void 0)throw new pt(1002,"")})}var Tt=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,e){this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return le(this.statusReactive)}set status(t){le(()=>this.statusReactive.set(t))}_status=ce(()=>this.statusReactive());statusReactive=Re(void 0);get valid(){return this.status===Je}get invalid(){return this.status===kt}get pending(){return this.status==Le}get disabled(){return this.status===Ye}get enabled(){return this.status!==Ye}errors;get pristine(){return le(this.pristineReactive)}set pristine(t){le(()=>this.pristineReactive.set(t))}_pristine=ce(()=>this.pristineReactive());pristineReactive=Re(!0);get dirty(){return!this.pristine}get touched(){return le(this.touchedReactive)}set touched(t){le(()=>this.touchedReactive.set(t))}_touched=ce(()=>this.touchedReactive());touchedReactive=Re(!1);get untouched(){return!this.touched}_events=new M;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Vr(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Vr(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Lr(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Lr(t,this._rawAsyncValidators))}hasValidator(t){return Et(this._rawValidators,t)}hasAsyncValidator(t){return Et(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let n=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(O(b({},t),{sourceControl:n})),e&&t.emitEvent!==!1&&this._events.next(new Xe(!0,n))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let n=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:n})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n),e&&t.emitEvent!==!1&&this._events.next(new Xe(!1,n))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let n=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(O(b({},t),{sourceControl:n})),e&&t.emitEvent!==!1&&this._events.next(new Ke(!1,n))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let n=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),e&&t.emitEvent!==!1&&this._events.next(new Ke(!0,n))}markAsPending(t={}){this.status=Le;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Be(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(O(b({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Ye,this.errors=null,this._forEachChild(r=>{r.disable(O(b({},t),{onlySelf:!0}))}),this._updateValue();let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Dt(this.value,n)),this._events.next(new Be(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(O(b({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Je,this._forEachChild(n=>{n.enable(O(b({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(O(b({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let n=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Je||this.status===Le)&&this._runAsyncValidator(n,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Dt(this.value,e)),this._events.next(new Be(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(O(b({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ye:Je}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=Le,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let n=qr(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((n,r)=>n&&n._find(r),this)}getError(t,e){let n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,n){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||n)&&this._events.next(new Be(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,n)}_initObservables(){this.valueChanges=new Ce,this.statusChanges=new Ce}_calculateStatus(){return this._allControlsDisabled()?Ye:this.errors?kt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Le)?Le:this._anyControlsHaveStatus(kt)?kt:Je}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let n=!this._anyControlsDirty(),r=this.pristine!==n;this.pristine=n,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),r&&this._events.next(new Ke(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new Xe(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Ft(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=ss(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=as(this._rawAsyncValidators)}},Rt=class extends Tt{constructor(t,e,n){super(io(e),no(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){ls(this,!0,t),Object.keys(t).forEach(n=>{cs(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(n=>{let r=this.controls[n];r&&r.patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,n)=>n._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,n]of Object.entries(this.controls))if(this.contains(e)&&t(n))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,n,r)=>((n.enabled||this.disabled)&&(e[r]=n.value),e))}_reduceChildren(t,e){let n=t;return this._forEachChild((r,o)=>{n=e(n,r,o)}),n}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var Vt=new P("CallSetDisabledState",{providedIn:"root",factory:()=>Ei}),Ei="always";function ds(i,t){return[...t.path,i]}function At(i,t,e=Ei){Pi(i,t),t.valueAccessor.writeValue(i.value),(i.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(i.disabled),fs(i,t),hs(i,t),ms(i,t),us(i,t)}function Br(i,t,e=!0){let n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),Ot(i,t),i&&(t._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function wt(i,t){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function us(i,t){if(t.valueAccessor.setDisabledState){let e=n=>{t.valueAccessor.setDisabledState(n)};i.registerOnDisabledChange(e),t._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}function Pi(i,t){let e=Xr(i);t.validator!==null?i.setValidators(Fr(e,t.validator)):typeof e=="function"&&i.setValidators([e]);let n=eo(i);t.asyncValidator!==null?i.setAsyncValidators(Fr(n,t.asyncValidator)):typeof n=="function"&&i.setAsyncValidators([n]);let r=()=>i.updateValueAndValidity();wt(t._rawValidators,r),wt(t._rawAsyncValidators,r)}function Ot(i,t){let e=!1;if(i!==null){if(t.validator!==null){let r=Xr(i);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==t.validator);o.length!==r.length&&(e=!0,i.setValidators(o))}}if(t.asyncValidator!==null){let r=eo(i);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==t.asyncValidator);o.length!==r.length&&(e=!0,i.setAsyncValidators(o))}}}let n=()=>{};return wt(t._rawValidators,n),wt(t._rawAsyncValidators,n),e}function fs(i,t){t.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,i.updateOn==="change"&&ro(i,t)})}function ms(i,t){t.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,i.updateOn==="blur"&&i._pendingChange&&ro(i,t),i.updateOn!=="submit"&&i.markAsTouched()})}function ro(i,t){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function hs(i,t){let e=(n,r)=>{t.valueAccessor.writeValue(n),r&&t.viewToModelUpdate(n)};i.registerOnChange(e),t._registerOnDestroy(()=>{i._unregisterOnChange(e)})}function oo(i,t){i==null,Pi(i,t)}function ps(i,t){return Ot(i,t)}function gs(i,t){if(!i.hasOwnProperty("model"))return!1;let e=i.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function _s(i){return Object.getPrototypeOf(i.constructor)===Ho}function so(i,t){i._syncPendingControls(),t.forEach(e=>{let n=e.control;n.updateOn==="submit"&&n._pendingChange&&(e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function vs(i,t){if(!t)return null;Array.isArray(t);let e,n,r;return t.forEach(o=>{o.constructor===It?e=o:_s(o)?n=o:r=o}),r||n||e||null}function ys(i,t){let e=i.indexOf(t);e>-1&&i.splice(e,1)}var bs={provide:Me,useExisting:Ue(()=>Di)},Ze=Promise.resolve(),Di=(()=>{class i extends Me{callSetDisabledState;get submitted(){return le(this.submittedReactive)}_submitted=ce(()=>this.submittedReactive());submittedReactive=Re(!1);_directives=new Set;form;ngSubmit=new Ce;options;constructor(e,n,r){super(),this.callSetDisabledState=r,this.form=new Rt({},ki(e),Mi(n))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Ze.then(()=>{let n=this._findContainer(e.path);e.control=n.registerControl(e.name,e.control),At(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Ze.then(()=>{let n=this._findContainer(e.path);n&&n.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Ze.then(()=>{let n=this._findContainer(e.path),r=new Rt({});oo(r,e),n.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Ze.then(()=>{let n=this._findContainer(e.path);n&&n.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,n){Ze.then(()=>{this.form.get(e.path).setValue(n)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),so(this.form,this._directives),this.ngSubmit.emit(e),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static \u0275fac=function(n){return new(n||i)(E(Ci,10),E(Si,10),E(Vt,8))};static \u0275dir=D({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){n&1&&F("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[ae([bs]),se]})}return i})();function Nr(i,t){let e=i.indexOf(t);e>-1&&i.splice(e,1)}function jr(i){return typeof i=="object"&&i!==null&&Object.keys(i).length===2&&"value"in i&&"disabled"in i}var ao=class extends Tt{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,e,n){super(io(e),no(n,e)),this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ft(e)&&(e.nonNullable||e.initialValueIsDefault)&&(jr(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Nr(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Nr(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){jr(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var xs=i=>i instanceof ao;var Cs={provide:Ee,useExisting:Ue(()=>Ti)},zr=Promise.resolve(),Ti=(()=>{class i extends Ee{_changeDetectorRef;callSetDisabledState;control=new ao;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Ce;constructor(e,n,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=e,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=vs(this,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let n=e.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),gs(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){At(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){zr.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let n=e.isDisabled.currentValue,r=n!==0&&Qe(n);zr.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?ds(e,this._parent):[e]}static \u0275fac=function(n){return new(n||i)(E(Me,9),E(Ci,10),E(Si,10),E(Ur,10),E(Ie,8),E(Vt,8))};static \u0275dir=D({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[ae([Cs]),se,Ge]})}return i})();var Ss={provide:Me,useExisting:Ue(()=>Ri)},Ri=(()=>{class i extends Me{callSetDisabledState;get submitted(){return le(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=ce(()=>this._submittedReactive());_submittedReactive=Re(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new Ce;constructor(e,n,r){super(),this.callSetDisabledState=r,this._setValidators(e),this._setAsyncValidators(n)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ot(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let n=this.form.get(e.path);return At(n,e,this.callSetDisabledState),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),n}getControl(e){return this.form.get(e.path)}removeControl(e){Br(e.control||null,e,!1),ys(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,n){this.form.get(e.path).setValue(n)}onSubmit(e){return this._submittedReactive.set(!0),so(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new bi(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new xi(this.form))}_updateDomValue(){this.directives.forEach(e=>{let n=e.control,r=this.form.get(e.path);n!==r&&(Br(n||null,e),xs(r)&&(At(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let n=this.form.get(e.path);oo(n,e),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let n=this.form.get(e.path);n&&ps(n,e)&&n.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Pi(this.form,this),this._oldForm&&Ot(this._oldForm,this)}_checkFormPresent(){this.form}static \u0275fac=function(n){return new(n||i)(E(Ci,10),E(Si,10),E(Vt,8))};static \u0275dir=D({type:i,selectors:[["","formGroup",""]],hostBindings:function(n,r){n&1&&F("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[ae([Ss]),se,Ge]})}return i})();var ks=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=q({type:i});static \u0275inj=W({})}return i})();var co=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:Vt,useValue:e.callSetDisabledState??Ei}]}}static \u0275fac=function(n){return new(n||i)};static \u0275mod=q({type:i});static \u0275inj=W({imports:[ks]})}return i})();var Ai=class{_box;_destroyed=new M;_resizeSubject=new M;_resizeObserver;_elementObservables=new Map;constructor(t){this._box=t,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new Rn(e=>{let n=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),n.unsubscribe(),this._elementObservables.delete(t)}}).pipe(ht(e=>e.some(n=>n.target===t)),Vn({bufferSize:1,refCount:!0}),Y(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},lo=(()=>{class i{_observers=new Map;_ngZone=g(Q);constructor(){typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,e]of this._observers)e.destroy();this._observers.clear(),typeof ResizeObserver<"u"}observe(e,n){let r=n?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new Ai(r)),this._observers.get(r).observe(e)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=Z({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Es=["notch"],Ps=["matFormFieldNotchedOutline",""],Ds=["*"],Ts=["textField"],Rs=["iconPrefixContainer"],As=["textPrefixContainer"],ws=["iconSuffixContainer"],Os=["textSuffixContainer"],Is=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Fs=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function Vs(i,t){i&1&&B(0,"span",21)}function Ls(i,t){if(i&1&&(m(0,"label",20),K(1,1),C(2,Vs,1,0,"span",21),h()),i&2){let e=S(2);k("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),G("for",e._control.disableAutomaticLabeling?null:e._control.id),v(2),L(!e.hideRequiredMarker&&e._control.required?2:-1)}}function Bs(i,t){if(i&1&&C(0,Ls,3,5,"label",20),i&2){let e=S();L(e._hasFloatingLabel()?0:-1)}}function Ns(i,t){i&1&&B(0,"div",7)}function js(i,t){}function zs(i,t){if(i&1&&C(0,js,0,0,"ng-template",13),i&2){S(2);let e=We(1);k("ngTemplateOutlet",e)}}function $s(i,t){if(i&1&&(m(0,"div",9),C(1,zs,1,1,null,13),h()),i&2){let e=S();k("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),v(),L(e._forceDisplayInfixLabel()?-1:1)}}function Us(i,t){i&1&&(m(0,"div",10,2),K(2,2),h())}function Gs(i,t){i&1&&(m(0,"div",11,3),K(2,3),h())}function Hs(i,t){}function Ws(i,t){if(i&1&&C(0,Hs,0,0,"ng-template",13),i&2){S();let e=We(1);k("ngTemplateOutlet",e)}}function qs(i,t){i&1&&(m(0,"div",14,4),K(2,4),h())}function Qs(i,t){i&1&&(m(0,"div",15,5),K(2,5),h())}function Js(i,t){i&1&&B(0,"div",16)}function Ys(i,t){if(i&1&&(m(0,"div",18),K(1,6),h()),i&2){let e=S();k("@transitionMessages",e._subscriptAnimationState)}}function Zs(i,t){if(i&1&&(m(0,"mat-hint",22),y(1),h()),i&2){let e=S(2);k("id",e._hintLabelId),v(),Se(e.hintLabel)}}function Ks(i,t){if(i&1&&(m(0,"div",19),C(1,Zs,2,2,"mat-hint",22),K(2,7),B(3,"div",23),K(4,8),h()),i&2){let e=S();k("@transitionMessages",e._subscriptAnimationState),v(),L(e.hintLabel?1:-1)}}var Bt=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275dir=D({type:i,selectors:[["mat-label"]]})}return i})(),Xs=new P("MatError");var Nt=(()=>{class i{align="start";id=g(ke).getId("mat-mdc-hint-");static \u0275fac=function(n){return new(n||i)};static \u0275dir=D({type:i,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(n,r){n&2&&(vt("id",r.id),G("align",null),z("mat-mdc-form-field-hint-end",r.align==="end"))},inputs:{align:"align",id:"id"}})}return i})(),ea=new P("MatPrefix");var ta=new P("MatSuffix");var _o=new P("FloatingLabelParent"),uo=(()=>{class i{_elementRef=g(j);get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}_floating=!1;get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}_monitorResize=!1;_resizeObserver=g(lo);_ngZone=g(Q);_parent=g(_o);_resizeSubscription=new Tn;constructor(){}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return ia(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static \u0275fac=function(n){return new(n||i)};static \u0275dir=D({type:i,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(n,r){n&2&&z("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return i})();function ia(i){let t=i;if(t.offsetParent!==null)return t.scrollWidth;let e=t.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);let n=e.scrollWidth;return e.remove(),n}var fo="mdc-line-ripple--active",Lt="mdc-line-ripple--deactivating",mo=(()=>{class i{_elementRef=g(j);constructor(){g(Q).runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){let e=this._elementRef.nativeElement.classList;e.remove(Lt),e.add(fo)}deactivate(){this._elementRef.nativeElement.classList.add(Lt)}_handleTransitionEnd=e=>{let n=this._elementRef.nativeElement.classList,r=n.contains(Lt);e.propertyName==="opacity"&&r&&n.remove(fo,Lt)};ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static \u0275fac=function(n){return new(n||i)};static \u0275dir=D({type:i,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return i})(),ho=(()=>{class i{_elementRef=g(j);_ngZone=g(Q);open=!1;_notch;constructor(){}ngAfterViewInit(){let e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){!this.open||!e?this._notch.nativeElement.style.width="":this._notch.nativeElement.style.width=`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=J({type:i,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(n,r){if(n&1&&$(Es,5),n&2){let o;R(o=A())&&(r._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(n,r){n&2&&z("mdc-notched-outline--notched",r.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},attrs:Ps,ngContentSelectors:Ds,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(n,r){n&1&&(fi(),B(0,"div",1),m(1,"div",2,0),K(3),h(),B(4,"div",3))},encapsulation:2,changeDetection:0})}return i})(),na={transitionMessages:Ve("transitionMessages",[_e("enter",ne({opacity:1,transform:"translateY(0%)"})),ve("void => enter",[ne({opacity:0,transform:"translateY(-5px)"}),ge("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},wi=(()=>{class i{value;stateChanges;id;placeholder;ngControl;focused;empty;shouldLabelFloat;required;disabled;errorState;controlType;autofilled;userAriaDescribedBy;disableAutomaticLabeling;static \u0275fac=function(n){return new(n||i)};static \u0275dir=D({type:i})}return i})();var Oi=new P("MatFormField"),ra=new P("MAT_FORM_FIELD_DEFAULT_OPTIONS"),po="fill",oa="auto",go="fixed",sa="translateY(-50%)",vo=(()=>{class i{_elementRef=g(j);_changeDetectorRef=g(Ie);_dir=g(pr);_platform=g(pe);_idGenerator=g(ke);_defaults=g(ra,{optional:!0});_animationMode=g(gt,{optional:!0});_textField;_iconPrefixContainer;_textPrefixContainer;_iconSuffixContainer;_textSuffixContainer;_floatingLabel;_notchedOutline;_lineRipple;_formFieldControl;_prefixChildren;_suffixChildren;_errorChildren;_hintChildren;_labelChild=Wn(Bt);get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Fe(e)}_hideRequiredMarker=!1;color="primary";get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||oa}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}_floatLabel;get appearance(){return this._appearance}set appearance(e){let n=this._appearance,r=e||this._defaults?.appearance||po;this._appearance=r,this._appearance==="outline"&&this._appearance!==n&&(this._needsOutlineLabelOffsetUpdate=!0)}_appearance=po;get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||go}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||go}_subscriptSizing=null;get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}_hintLabel="";_hasIconPrefix=!1;_hasTextPrefix=!1;_hasIconSuffix=!1;_hasTextSuffix=!1;_labelId=this._idGenerator.getId("mat-mdc-form-field-label-");_hintLabelId=this._idGenerator.getId("mat-mdc-hint-");_subscriptAnimationState="";get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}_destroyed=new M;_isFocused=null;_explicitFormFieldControl;_needsOutlineLabelOffsetUpdate=!1;_previousControl=null;_stateChanges;_valueChanges;_describedByChanges;_injector=g(xe);constructor(){let e=this._defaults;e&&(e.appearance&&(this.appearance=e.appearance),this._hideRequiredMarker=!!e?.hideRequiredMarker,e.color&&(this.color=e.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._previousControl=this._control)}ngOnDestroy(){this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._describedByChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getLabelId=ce(()=>this._hasFloatingLabel()?this._labelId:null);getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(e){let n=this._control,r="mat-mdc-form-field-type-";e&&this._elementRef.nativeElement.classList.remove(r+e.controlType),n.controlType&&this._elementRef.nativeElement.classList.add(r+n.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=n.stateChanges.subscribe(()=>{this._updateFocusState(),this._changeDetectorRef.markForCheck()}),this._describedByChanges?.unsubscribe(),this._describedByChanges=n.stateChanges.pipe(Ln([void 0,void 0]),mt(()=>[n.errorState,n.userAriaDescribedBy]),Fn(),ht(([[o,s],[a,c]])=>o!==a||s!==c)).subscribe(()=>this._syncDescribedByIds()),this._valueChanges?.unsubscribe(),n.ngControl&&n.ngControl.valueChanges&&(this._valueChanges=n.ngControl.valueChanges.pipe(Y(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),In(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),zn(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe(Y(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel=ce(()=>!!this._labelChild());_shouldLabelFloat(){return this._hasFloatingLabel()?this._control.shouldLabelFloat||this._shouldAlwaysFloat():!1}_shouldForward(e){let n=this._control?this._control.ngControl:null;return n&&n[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&e.push(...this._control.userAriaDescribedBy.split(" ")),this._getDisplayedMessages()==="hint"){let n=this._hintChildren?this._hintChildren.find(o=>o.align==="start"):null,r=this._hintChildren?this._hintChildren.find(o=>o.align==="end"):null;n?e.push(n.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(n=>n.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;let e=this._floatingLabel.element;if(!(this._iconPrefixContainer||this._textPrefixContainer)){e.style.transform="";return}if(!this._isAttachedToDom()){this._needsOutlineLabelOffsetUpdate=!0;return}let n=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,o=this._iconSuffixContainer?.nativeElement,s=this._textSuffixContainer?.nativeElement,a=n?.getBoundingClientRect().width??0,c=r?.getBoundingClientRect().width??0,l=o?.getBoundingClientRect().width??0,d=s?.getBoundingClientRect().width??0,f=this._dir.value==="rtl"?"-1":"1",_=`${a+c}px`,w=`calc(${f} * (${_} + var(--mat-mdc-form-field-label-offset-x, 0px)))`;e.style.transform=`var(
        --mat-mdc-form-field-label-transform,
        ${sa} translateX(${w})
    )`;let I=a+c+l+d;this._elementRef.nativeElement.style.setProperty("--mat-form-field-notch-max-width",`calc(100% - ${I}px)`)}_isAttachedToDom(){let e=this._elementRef.nativeElement;if(e.getRootNode){let n=e.getRootNode();return n&&n!==e}return document.documentElement.contains(e)}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=J({type:i,selectors:[["mat-form-field"]],contentQueries:function(n,r,o){if(n&1&&(Yn(o,r._labelChild,Bt,5),Ae(o,wi,5),Ae(o,ea,5),Ae(o,ta,5),Ae(o,Xs,5),Ae(o,Nt,5)),n&2){Zn();let s;R(s=A())&&(r._formFieldControl=s.first),R(s=A())&&(r._prefixChildren=s),R(s=A())&&(r._suffixChildren=s),R(s=A())&&(r._errorChildren=s),R(s=A())&&(r._hintChildren=s)}},viewQuery:function(n,r){if(n&1&&($(Ts,5),$(Rs,5),$(As,5),$(ws,5),$(Os,5),$(uo,5),$(ho,5),$(mo,5)),n&2){let o;R(o=A())&&(r._textField=o.first),R(o=A())&&(r._iconPrefixContainer=o.first),R(o=A())&&(r._textPrefixContainer=o.first),R(o=A())&&(r._iconSuffixContainer=o.first),R(o=A())&&(r._textSuffixContainer=o.first),R(o=A())&&(r._floatingLabel=o.first),R(o=A())&&(r._notchedOutline=o.first),R(o=A())&&(r._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(n,r){n&2&&z("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations",r._animationMode==="NoopAnimations")("mat-form-field-appearance-fill",r.appearance=="fill")("mat-form-field-appearance-outline",r.appearance=="outline")("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary",r.color!=="accent"&&r.color!=="warn")("mat-accent",r.color==="accent")("mat-warn",r.color==="warn")("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[ae([{provide:Oi,useExisting:i},{provide:_o,useExisting:i}])],ngContentSelectors:Fs,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],["textSuffixContainer",""],["iconSuffixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(n,r){if(n&1){let o=he();fi(Is),C(0,Bs,1,1,"ng-template",null,0,yt),m(2,"div",6,1),F("click",function(a){return te(o),ie(r._control.onContainerClick(a))}),C(4,Ns,1,0,"div",7),m(5,"div",8),C(6,$s,2,2,"div",9)(7,Us,3,0,"div",10)(8,Gs,3,0,"div",11),m(9,"div",12),C(10,Ws,1,1,null,13),K(11),h(),C(12,qs,3,0,"div",14)(13,Qs,3,0,"div",15),h(),C(14,Js,1,0,"div",16),h(),m(15,"div",17),C(16,Ys,2,1,"div",18)(17,Ks,5,2,"div",19),h()}if(n&2){let o;v(2),z("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),v(2),L(!r._hasOutline()&&!r._control.disabled?4:-1),v(2),L(r._hasOutline()?6:-1),v(),L(r._hasIconPrefix?7:-1),v(),L(r._hasTextPrefix?8:-1),v(2),L(!r._hasOutline()||r._forceDisplayInfixLabel()?10:-1),v(2),L(r._hasTextSuffix?12:-1),v(),L(r._hasIconSuffix?13:-1),v(),L(r._hasOutline()?-1:14),v(),z("mat-mdc-form-field-subscript-dynamic-size",r.subscriptSizing==="dynamic"),v(),L((o=r._getDisplayedMessages())==="error"?16:o==="hint"?17:-1)}},dependencies:[uo,ho,xt,mo,Nt],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-moz-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-webkit-input-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive:-ms-input-placeholder{opacity:0}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mdc-filled-text-field-caret-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mdc-outlined-text-field-caret-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape, var(--mat-sys-corner-extra-small));border-top-right-radius:var(--mdc-filled-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color, var(--mat-sys-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 4%, transparent))}.mdc-text-field--outlined{height:56px;overflow:visible;padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}@media(forced-colors: active){.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mdc-filled-text-field-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mdc-filled-text-field-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mdc-filled-text-field-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mdc-outlined-text-field-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mdc-outlined-text-field-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mdc-outlined-text-field-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color, var(--mat-sys-outline));border-width:var(--mdc-outlined-text-field-outline-width, 1px)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color, var(--mat-sys-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width, 2px)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:min(var(--mat-form-field-notch-max-width, 100%),100% - max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))*2)}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none;--mat-form-field-notch-max-width: 100%}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height, 1px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color, var(--mat-sys-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color, var(--mat-sys-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height, 2px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color, var(--mat-sys-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color, var(--mat-sys-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height, 56px);padding-top:var(--mat-form-field-filled-with-label-container-padding-top, 24px);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom, 8px)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding, 16px);padding-bottom:var(--mat-form-field-container-vertical-padding, 16px)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height, 56px)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height, 56px) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-sys-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-sys-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-sys-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-sys-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-sys-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-sys-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-sys-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity, 0)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color, var(--mat-sys-neutral10))}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color, color-mix(in srgb, var(--mat-sys-neutral10) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}@media(forced-colors: active){.mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}}@media(forced-colors: active){.mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-sys-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-sys-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-sys-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-sys-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field-infix:has(textarea[cols]){width:auto}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[na.transitionMessages]},changeDetection:0})}return i})(),Ii=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=q({type:i});static \u0275inj=W({imports:[X,ur,X]})}return i})();var ca=new P("MAT_INPUT_VALUE_ACCESSOR"),la=["button","checkbox","file","hidden","image","radio","range","reset","submit"],da=new P("MAT_INPUT_CONFIG"),yo=(()=>{class i{_elementRef=g(j);_platform=g(pe);ngControl=g(Ee,{optional:!0,self:!0});_autofillMonitor=g(Or);_ngZone=g(Q);_formField=g(Oi,{optional:!0});_uid=g(ke).getId("mat-input-");_previousNativeValue;_inputValueAccessor;_signalBasedValueAccessor;_previousPlaceholder;_errorStateTracker;_webkitBlinkWheelListenerAttached=!1;_config=g(da,{optional:!0});_formFieldDescribedBy;_isServer;_isNativeSelect;_isTextarea;_isInFormField;focused=!1;stateChanges=new M;controlType="mat-input";autofilled=!1;get disabled(){return this._disabled}set disabled(e){this._disabled=Fe(e),this.focused&&(this.focused=!1,this.stateChanges.next())}_disabled=!1;get id(){return this._id}set id(e){this._id=e||this._uid}_id;placeholder;name;get required(){return this._required??this.ngControl?.control?.hasValidator(Mt.required)??!1}set required(e){this._required=Fe(e)}_required;get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&hi().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._ensureWheelDefaultBehavior()}_type="text";get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}userAriaDescribedBy;get value(){return this._signalBasedValueAccessor?this._signalBasedValueAccessor.value():this._inputValueAccessor.value}set value(e){e!==this.value&&(this._signalBasedValueAccessor?this._signalBasedValueAccessor.value.set(e):this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Fe(e)}_readonly=!1;disabledInteractive;get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}_neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(e=>hi().has(e));constructor(){let e=g(Di,{optional:!0}),n=g(Ri,{optional:!0}),r=g(_r),o=g(ca,{optional:!0,self:!0}),s=this._elementRef.nativeElement,a=s.nodeName.toLowerCase();o?Gn(o.value)?this._signalBasedValueAccessor=o:this._inputValueAccessor=o:this._inputValueAccessor=s,this._previousNativeValue=this.value,this.id=this.id,this._platform.IOS&&this._ngZone.runOutsideAngular(()=>{s.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new gr(r,this.ngControl,n,e,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=a==="select",this._isTextarea=a==="textarea",this._isInFormField=!!this._formField,this.disabledInteractive=this._config?.disabledInteractive||!1,this._isNativeSelect&&(this.controlType=s.multiple?"mat-native-select-multiple":"mat-native-select"),this._signalBasedValueAccessor&&ir(()=>{this._signalBasedValueAccessor.value(),this.stateChanges.next()})}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener),this._webkitBlinkWheelListenerAttached&&this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(e){if(e!==this.focused){if(!this._isNativeSelect&&e&&this.disabled&&this.disabledInteractive){let n=this._elementRef.nativeElement;n.type==="number"?(n.type="text",n.setSelectionRange(0,0),n.type="number"):n.setSelectionRange(0,0)}this.focused=e,this.stateChanges.next()}}_onInput(){}_dirtyCheckNativeValue(){let e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){let e=this._getPlaceholder();if(e!==this._previousPlaceholder){let n=this._elementRef.nativeElement;this._previousPlaceholder=e,e?n.setAttribute("placeholder",e):n.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){la.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let e=this._elementRef.nativeElement,n=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&n&&n.label)}else return this.focused&&!this.disabled||!this.empty}setDescribedByIds(e){let n=this._elementRef.nativeElement,r=n.getAttribute("aria-describedby"),o;if(r){let s=this._formFieldDescribedBy||e;o=e.concat(r.split(" ").filter(a=>a&&!s.includes(a)))}else o=e;this._formFieldDescribedBy=e,o.length?n.setAttribute("aria-describedby",o.join(" ")):n.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}_iOSKeyupListener=e=>{let n=e.target;!n.value&&n.selectionStart===0&&n.selectionEnd===0&&(n.setSelectionRange(1,1),n.setSelectionRange(0,0))};_webkitBlinkWheelListener=()=>{};_ensureWheelDefaultBehavior(){!this._webkitBlinkWheelListenerAttached&&this._type==="number"&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("wheel",this._webkitBlinkWheelListener)}),this._webkitBlinkWheelListenerAttached=!0),this._webkitBlinkWheelListenerAttached&&this._type!=="number"&&(this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener),this._webkitBlinkWheelListenerAttached=!0)}_getReadonlyAttribute(){return this._isNativeSelect?null:this.readonly||this.disabled&&this.disabledInteractive?"true":null}static \u0275fac=function(n){return new(n||i)};static \u0275dir=D({type:i,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:21,hostBindings:function(n,r){n&1&&F("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),n&2&&(vt("id",r.id)("disabled",r.disabled&&!r.disabledInteractive)("required",r.required),G("name",r.name||null)("readonly",r._getReadonlyAttribute())("aria-disabled",r.disabled&&r.disabledInteractive?"true":null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),z("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mat-mdc-input-disabled-interactive",r.disabledInteractive)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly",disabledInteractive:[2,"disabledInteractive","disabledInteractive",Qe]},exportAs:["matInput"],features:[ae([{provide:wi,useExisting:i}]),He,Ge]})}return i})(),bo=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=q({type:i});static \u0275inj=W({imports:[X,Ii,Ii,Ir,X]})}return i})();function fa(i,t){if(i&1){let e=he();m(0,"div",1)(1,"button",2),F("click",function(){te(e);let r=S();return ie(r.action())}),y(2),h()()}if(i&2){let e=S();v(2),we(" ",e.data.action," ")}}var ma=["label"];function ha(i,t){}var pa=Math.pow(2,31)-1,et=class{_overlayRef;instance;containerInstance;_afterDismissed=new M;_afterOpened=new M;_onAction=new M;_durationTimeoutId;_dismissedByAction=!1;constructor(t,e){this._overlayRef=e,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,pa))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},xo=new P("MatSnackBarData"),Ne=class{politeness="assertive";announcementMessage="";viewContainerRef;duration=0;panelClass;direction;data=null;horizontalPosition="center";verticalPosition="bottom"},ga=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275dir=D({type:i,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return i})(),_a=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275dir=D({type:i,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return i})(),va=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275dir=D({type:i,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return i})(),Co=(()=>{class i{snackBarRef=g(et);data=g(xo);constructor(){}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=J({type:i,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(n,r){n&1&&(m(0,"div",0),y(1),h(),C(2,fa,3,1,"div",1)),n&2&&(v(),we(" ",r.data.message,`
`),v(),L(r.hasAction?2:-1))},dependencies:[Ct,ga,_a,va],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}return i})(),ya={snackBarState:Ve("state",[_e("void, hidden",ne({transform:"scale(0.8)",opacity:0})),_e("visible",ne({transform:"scale(1)",opacity:1})),ve("* => visible",ge("150ms cubic-bezier(0, 0, 0.2, 1)")),ve("* => void, * => hidden",ge("75ms cubic-bezier(0.4, 0.0, 1, 1)",ne({opacity:0})))])},ba=(()=>{class i extends Pr{_ngZone=g(Q);_elementRef=g(j);_changeDetectorRef=g(Ie);_platform=g(pe);snackBarConfig=g(Ne);_document=g(nr);_trackedModals=new Set;_announceDelay=150;_announceTimeoutId;_destroyed=!1;_portalOutlet;_onAnnounce=new M;_onExit=new M;_onEnter=new M;_animationState="void";_live;_label;_role;_liveElementId=g(ke).getId("mat-snack-bar-container-live-");constructor(){super();let e=this.snackBarConfig;e.politeness==="assertive"&&!e.announcementMessage?this._live="assertive":e.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();let n=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),n}attachTemplatePortal(e){this._assertNotAttached();let n=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),n}attachDomPortal=e=>{this._assertNotAttached();let n=this._portalOutlet.attachDomPortal(e);return this._afterPortalAttached(),n};onAnimationEnd(e){let{fromState:n,toState:r}=e;if((r==="void"&&n!=="void"||r==="hidden")&&this._completeExit(),r==="visible"){let o=this._onEnter;this._ngZone.run(()=>{o.next(),o.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let e=this._elementRef.nativeElement,n=this.snackBarConfig.panelClass;n&&(Array.isArray(n)?n.forEach(s=>e.classList.add(s)):e.classList.add(n)),this._exposeToModals();let r=this._label.nativeElement,o="mdc-snackbar__label";r.classList.toggle(o,!r.querySelector(`.${o}`))}_exposeToModals(){let e=this._liveElementId,n=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<n.length;r++){let o=n[r],s=o.getAttribute("aria-owns");this._trackedModals.add(o),s?s.indexOf(e)===-1&&o.setAttribute("aria-owns",s+" "+e):o.setAttribute("aria-owns",e)}}_clearFromModals(){this._trackedModals.forEach(e=>{let n=e.getAttribute("aria-owns");if(n){let r=n.replace(this._liveElementId,"").trim();r.length>0?e.setAttribute("aria-owns",r):e.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{let e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),n=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&n){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(r=document.activeElement),e.removeAttribute("aria-hidden"),n.appendChild(e),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=J({type:i,selectors:[["mat-snack-bar-container"]],viewQuery:function(n,r){if(n&1&&($(_i,7),$(ma,7)),n&2){let o;R(o=A())&&(r._portalOutlet=o.first),R(o=A())&&(r._label=o.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:1,hostBindings:function(n,r){n&1&&Jn("@state.done",function(s){return r.onAnimationEnd(s)}),n&2&&Qn("@state",r._animationState)},features:[se],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(n,r){n&1&&(m(0,"div",1)(1,"div",2,0)(3,"div",3),C(4,ha,0,0,"ng-template",4),h(),B(5,"div"),h()()),n&2&&(v(5),G("aria-live",r._live)("role",r._role)("id",r._liveElementId))},dependencies:[_i],styles:[".mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}@media(forced-colors: active){.mat-mdc-snackbar-surface{outline:solid 1px}}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mdc-snackbar-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mdc-snackbar-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mdc-snackbar-container-color, var(--mat-sys-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mdc-snackbar-supporting-text-font, var(--mat-sys-body-medium-font));font-size:var(--mdc-snackbar-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mdc-snackbar-supporting-text-weight, var(--mat-sys-body-medium-weight));line-height:var(--mdc-snackbar-supporting-text-line-height, var(--mat-sys-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled).mat-unthemed{color:var(--mat-snack-bar-button-color, var(--mat-sys-inverse-primary))}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}"],encapsulation:2,data:{animation:[ya.snackBarState]}})}return i})();function xa(){return new Ne}var Ca=new P("mat-snack-bar-default-options",{providedIn:"root",factory:xa}),Fi=(()=>{class i{_overlay=g(Rr);_live=g(hr);_injector=g(xe);_breakpointObserver=g(fr);_parentSnackBar=g(i,{optional:!0,skipSelf:!0});_defaultConfig=g(Ca);_snackBarRefAtThisLevel=null;simpleSnackBarComponent=Co;snackBarContainerComponent=ba;handsetCssClass="mat-mdc-snack-bar-handset";get _openedSnackBarRef(){let e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}constructor(){}openFromComponent(e,n){return this._attach(e,n)}openFromTemplate(e,n){return this._attach(e,n)}open(e,n="",r){let o=b(b({},this._defaultConfig),r);return o.data={message:e,action:n},o.announcementMessage===e&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,n){let r=n&&n.viewContainerRef&&n.viewContainerRef.injector,o=xe.create({parent:r||this._injector,providers:[{provide:Ne,useValue:n}]}),s=new gi(this.snackBarContainerComponent,n.viewContainerRef,o),a=e.attach(s);return a.instance.snackBarConfig=n,a.instance}_attach(e,n){let r=b(b(b({},new Ne),this._defaultConfig),n),o=this._createOverlay(r),s=this._attachSnackBarContainer(o,r),a=new et(s,o);if(e instanceof Un){let c=new Er(e,null,{$implicit:r.data,snackBarRef:a});a.instance=s.attachTemplatePortal(c)}else{let c=this._createInjector(r,a),l=new gi(e,void 0,c),d=s.attachComponentPortal(l);a.instance=d.instance}return this._breakpointObserver.observe(mr.HandsetPortrait).pipe(Y(o.detachments())).subscribe(c=>{o.overlayElement.classList.toggle(this.handsetCssClass,c.matches)}),r.announcementMessage&&s._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(a,r),this._openedSnackBarRef=a,this._openedSnackBarRef}_animateSnackBar(e,n){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),n.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),n.duration&&n.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(n.duration))}_createOverlay(e){let n=new Tr;n.direction=e.direction;let r=this._overlay.position().global(),o=e.direction==="rtl",s=e.horizontalPosition==="left"||e.horizontalPosition==="start"&&!o||e.horizontalPosition==="end"&&o,a=!s&&e.horizontalPosition!=="center";return s?r.left("0"):a?r.right("0"):r.centerHorizontally(),e.verticalPosition==="top"?r.top("0"):r.bottom("0"),n.positionStrategy=r,this._overlay.create(n)}_createInjector(e,n){let r=e&&e.viewContainerRef&&e.viewContainerRef.injector;return xe.create({parent:r||this._injector,providers:[{provide:et,useValue:n},{provide:xo,useValue:e.data}]})}static \u0275fac=function(n){return new(n||i)};static \u0275prov=Z({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var So=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=q({type:i});static \u0275inj=W({providers:[Fi],imports:[Ar,Dr,St,X,Co,X]})}return i})();var ka=["determinateSpinner"];function Ma(i,t){if(i&1&&(ci(),m(0,"svg",11),B(1,"circle",12),h()),i&2){let e=S();G("viewBox",e._viewBox()),v(),me("stroke-dasharray",e._strokeCircumference(),"px")("stroke-dashoffset",e._strokeCircumference()/2,"px")("stroke-width",e._circleStrokeWidth(),"%"),G("r",e._circleRadius())}}var Ea=new P("mat-progress-spinner-default-options",{providedIn:"root",factory:Pa});function Pa(){return{diameter:ko}}var ko=100,Da=10,Mo=(()=>{class i{_elementRef=g(j);_noopAnimations;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;_defaultColor="primary";_determinateCircle;constructor(){let e=g(gt,{optional:!0}),n=g(Ea);this._noopAnimations=e==="NoopAnimations"&&!!n&&!n._forceAnimations,this.mode=this._elementRef.nativeElement.nodeName.toLowerCase()==="mat-spinner"?"indeterminate":"determinate",n&&(n.color&&(this.color=this._defaultColor=n.color),n.diameter&&(this.diameter=n.diameter),n.strokeWidth&&(this.strokeWidth=n.strokeWidth))}mode;get value(){return this.mode==="determinate"?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,e||0))}_value=0;get diameter(){return this._diameter}set diameter(e){this._diameter=e||0}_diameter=ko;get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(e){this._strokeWidth=e||0}_strokeWidth;_circleRadius(){return(this.diameter-Da)/2}_viewBox(){let e=this._circleRadius()*2+this.strokeWidth;return`0 0 ${e} ${e}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return this.mode==="determinate"?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=J({type:i,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(n,r){if(n&1&&$(ka,5),n&2){let o;R(o=A())&&(r._determinateCircle=o.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(n,r){n&2&&(G("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow",r.mode==="determinate"?r.value:null)("mode",r.mode),qn("mat-"+r.color),me("width",r.diameter,"px")("height",r.diameter,"px")("--mdc-circular-progress-size",r.diameter+"px")("--mdc-circular-progress-active-indicator-width",r.diameter+"px"),z("_mat-animation-noopable",r._noopAnimations)("mdc-circular-progress--indeterminate",r.mode==="indeterminate"))},inputs:{color:"color",mode:"mode",value:[2,"value","value",bt],diameter:[2,"diameter","diameter",bt],strokeWidth:[2,"strokeWidth","strokeWidth",bt]},exportAs:["matProgressSpinner"],features:[He],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(n,r){if(n&1&&(C(0,Ma,2,8,"ng-template",null,0,yt),m(2,"div",2,1),ci(),m(4,"svg",3),B(5,"circle",4),h()(),Nn(),m(6,"div",5)(7,"div",6)(8,"div",7),_t(9,8),h(),m(10,"div",9),_t(11,8),h(),m(12,"div",10),_t(13,8),h()()()),n&2){let o=We(1);v(4),G("viewBox",r._viewBox()),v(),me("stroke-dasharray",r._strokeCircumference(),"px")("stroke-dashoffset",r._strokeDashOffset(),"px")("stroke-width",r._circleStrokeWidth(),"%"),G("r",r._circleRadius()),v(4),k("ngTemplateOutlet",o),v(2),k("ngTemplateOutlet",o),v(2),k("ngTemplateOutlet",o)}},dependencies:[xt],styles:[".mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width, 4px)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color, var(--mat-sys-primary))}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}"],encapsulation:2,changeDetection:0})}return i})();var Eo=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=q({type:i});static \u0275inj=W({imports:[X]})}return i})();var Vi=class{constructor(){this.encoder=new TextEncoder,this._pieces=[],this._parts=[]}append_buffer(t){this.flush(),this._parts.push(t)}append(t){this._pieces.push(t)}flush(){if(this._pieces.length>0){let t=new Uint8Array(this._pieces);this._parts.push(t),this._pieces=[]}}toArrayBuffer(){let t=[];for(let e of this._parts)t.push(e);return Ra(t).buffer}};function Ra(i){let t=0;for(let r of i)t+=r.byteLength;let e=new Uint8Array(t),n=0;for(let r of i){let o=new Uint8Array(r.buffer,r.byteOffset,r.byteLength);e.set(o,n),n+=r.byteLength}return e}function Ni(i){return new Li(i).unpack()}function ji(i){let t=new Bi,e=t.pack(i);return e instanceof Promise?e.then(()=>t.getBuffer()):t.getBuffer()}var Li=class{constructor(t){this.index=0,this.dataBuffer=t,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}unpack(){let t=this.unpack_uint8();if(t<128)return t;if((t^224)<32)return(t^224)-32;let e;if((e=t^160)<=15)return this.unpack_raw(e);if((e=t^176)<=15)return this.unpack_string(e);if((e=t^144)<=15)return this.unpack_array(e);if((e=t^128)<=15)return this.unpack_map(e);switch(t){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return e=this.unpack_uint16(),this.unpack_string(e);case 217:return e=this.unpack_uint32(),this.unpack_string(e);case 218:return e=this.unpack_uint16(),this.unpack_raw(e);case 219:return e=this.unpack_uint32(),this.unpack_raw(e);case 220:return e=this.unpack_uint16(),this.unpack_array(e);case 221:return e=this.unpack_uint32(),this.unpack_array(e);case 222:return e=this.unpack_uint16(),this.unpack_map(e);case 223:return e=this.unpack_uint32(),this.unpack_map(e)}}unpack_uint8(){let t=this.dataView[this.index]&255;return this.index++,t}unpack_uint16(){let t=this.read(2),e=(t[0]&255)*256+(t[1]&255);return this.index+=2,e}unpack_uint32(){let t=this.read(4),e=((t[0]*256+t[1])*256+t[2])*256+t[3];return this.index+=4,e}unpack_uint64(){let t=this.read(8),e=((((((t[0]*256+t[1])*256+t[2])*256+t[3])*256+t[4])*256+t[5])*256+t[6])*256+t[7];return this.index+=8,e}unpack_int8(){let t=this.unpack_uint8();return t<128?t:t-256}unpack_int16(){let t=this.unpack_uint16();return t<32768?t:t-65536}unpack_int32(){let t=this.unpack_uint32();return t<2**31?t:t-2**32}unpack_int64(){let t=this.unpack_uint64();return t<2**63?t:t-2**64}unpack_raw(t){if(this.length<this.index+t)throw new Error(`BinaryPackFailure: index is out of range ${this.index} ${t} ${this.length}`);let e=this.dataBuffer.slice(this.index,this.index+t);return this.index+=t,e}unpack_string(t){let e=this.read(t),n=0,r="",o,s;for(;n<t;)o=e[n],o<160?(s=o,n++):(o^192)<32?(s=(o&31)<<6|e[n+1]&63,n+=2):(o^224)<16?(s=(o&15)<<12|(e[n+1]&63)<<6|e[n+2]&63,n+=3):(s=(o&7)<<18|(e[n+1]&63)<<12|(e[n+2]&63)<<6|e[n+3]&63,n+=4),r+=String.fromCodePoint(s);return this.index+=t,r}unpack_array(t){let e=new Array(t);for(let n=0;n<t;n++)e[n]=this.unpack();return e}unpack_map(t){let e={};for(let n=0;n<t;n++){let r=this.unpack();e[r]=this.unpack()}return e}unpack_float(){let t=this.unpack_uint32(),e=t>>31,n=(t>>23&255)-127,r=t&8388607|8388608;return(e===0?1:-1)*r*2**(n-23)}unpack_double(){let t=this.unpack_uint32(),e=this.unpack_uint32(),n=t>>31,r=(t>>20&2047)-1023,s=(t&1048575|1048576)*2**(r-20)+e*2**(r-52);return(n===0?1:-1)*s}read(t){let e=this.index;if(e+t<=this.length)return this.dataView.subarray(e,e+t);throw new Error("BinaryPackFailure: read index out of range")}},Bi=class{getBuffer(){return this._bufferBuilder.toArrayBuffer()}pack(t){if(typeof t=="string")this.pack_string(t);else if(typeof t=="number")Math.floor(t)===t?this.pack_integer(t):this.pack_double(t);else if(typeof t=="boolean")t===!0?this._bufferBuilder.append(195):t===!1&&this._bufferBuilder.append(194);else if(t===void 0)this._bufferBuilder.append(192);else if(typeof t=="object")if(t===null)this._bufferBuilder.append(192);else{let e=t.constructor;if(t instanceof Array){let n=this.pack_array(t);if(n instanceof Promise)return n.then(()=>this._bufferBuilder.flush())}else if(t instanceof ArrayBuffer)this.pack_bin(new Uint8Array(t));else if("BYTES_PER_ELEMENT"in t){let n=t;this.pack_bin(new Uint8Array(n.buffer,n.byteOffset,n.byteLength))}else if(t instanceof Date)this.pack_string(t.toString());else{if(t instanceof Blob)return t.arrayBuffer().then(n=>{this.pack_bin(new Uint8Array(n)),this._bufferBuilder.flush()});if(e==Object||e.toString().startsWith("class")){let n=this.pack_object(t);if(n instanceof Promise)return n.then(()=>this._bufferBuilder.flush())}else throw new Error(`Type "${e.toString()}" not yet supported`)}}else throw new Error(`Type "${typeof t}" not yet supported`);this._bufferBuilder.flush()}pack_bin(t){let e=t.length;if(e<=15)this.pack_uint8(160+e);else if(e<=65535)this._bufferBuilder.append(218),this.pack_uint16(e);else if(e<=4294967295)this._bufferBuilder.append(219),this.pack_uint32(e);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(t)}pack_string(t){let e=this._textEncoder.encode(t),n=e.length;if(n<=15)this.pack_uint8(176+n);else if(n<=65535)this._bufferBuilder.append(216),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(217),this.pack_uint32(n);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(e)}pack_array(t){let e=t.length;if(e<=15)this.pack_uint8(144+e);else if(e<=65535)this._bufferBuilder.append(220),this.pack_uint16(e);else if(e<=4294967295)this._bufferBuilder.append(221),this.pack_uint32(e);else throw new Error("Invalid length");let n=r=>{if(r<e){let o=this.pack(t[r]);return o instanceof Promise?o.then(()=>n(r+1)):n(r+1)}};return n(0)}pack_integer(t){if(t>=-32&&t<=127)this._bufferBuilder.append(t&255);else if(t>=0&&t<=255)this._bufferBuilder.append(204),this.pack_uint8(t);else if(t>=-128&&t<=127)this._bufferBuilder.append(208),this.pack_int8(t);else if(t>=0&&t<=65535)this._bufferBuilder.append(205),this.pack_uint16(t);else if(t>=-32768&&t<=32767)this._bufferBuilder.append(209),this.pack_int16(t);else if(t>=0&&t<=4294967295)this._bufferBuilder.append(206),this.pack_uint32(t);else if(t>=-2147483648&&t<=2147483647)this._bufferBuilder.append(210),this.pack_int32(t);else if(t>=-9223372036854776e3&&t<=9223372036854776e3)this._bufferBuilder.append(211),this.pack_int64(t);else if(t>=0&&t<=18446744073709552e3)this._bufferBuilder.append(207),this.pack_uint64(t);else throw new Error("Invalid integer")}pack_double(t){let e=0;t<0&&(e=1,t=-t);let n=Math.floor(Math.log(t)/Math.LN2),r=t/2**n-1,o=Math.floor(r*2**52),s=2**32,a=e<<31|n+1023<<20|o/s&1048575,c=o%s;this._bufferBuilder.append(203),this.pack_int32(a),this.pack_int32(c)}pack_object(t){let e=Object.keys(t),n=e.length;if(n<=15)this.pack_uint8(128+n);else if(n<=65535)this._bufferBuilder.append(222),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(223),this.pack_uint32(n);else throw new Error("Invalid length");let r=o=>{if(o<e.length){let s=e[o];if(t.hasOwnProperty(s)){this.pack(s);let a=this.pack(t[s]);if(a instanceof Promise)return a.then(()=>r(o+1))}return r(o+1)}};return r(0)}pack_uint8(t){this._bufferBuilder.append(t)}pack_uint16(t){this._bufferBuilder.append(t>>8),this._bufferBuilder.append(t&255)}pack_uint32(t){let e=t&4294967295;this._bufferBuilder.append((e&4278190080)>>>24),this._bufferBuilder.append((e&16711680)>>>16),this._bufferBuilder.append((e&65280)>>>8),this._bufferBuilder.append(e&255)}pack_uint64(t){let e=t/4294967296,n=t%2**32;this._bufferBuilder.append((e&4278190080)>>>24),this._bufferBuilder.append((e&16711680)>>>16),this._bufferBuilder.append((e&65280)>>>8),this._bufferBuilder.append(e&255),this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255)}pack_int8(t){this._bufferBuilder.append(t&255)}pack_int16(t){this._bufferBuilder.append((t&65280)>>8),this._bufferBuilder.append(t&255)}pack_int32(t){this._bufferBuilder.append(t>>>24&255),this._bufferBuilder.append((t&16711680)>>>16),this._bufferBuilder.append((t&65280)>>>8),this._bufferBuilder.append(t&255)}pack_int64(t){let e=Math.floor(t/4294967296),n=t%2**32;this._bufferBuilder.append((e&4278190080)>>>24),this._bufferBuilder.append((e&16711680)>>>16),this._bufferBuilder.append((e&65280)>>>8),this._bufferBuilder.append(e&255),this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255)}constructor(){this._bufferBuilder=new Vi,this._textEncoder=new TextEncoder}};var Do=!0,To=!0;function tt(i,t,e){let n=i.match(t);return n&&n.length>=e&&parseInt(n[e],10)}function re(i,t,e){if(!i.RTCPeerConnection)return;let n=i.RTCPeerConnection.prototype,r=n.addEventListener;n.addEventListener=function(s,a){if(s!==t)return r.apply(this,arguments);let c=l=>{let d=e(l);d&&(a.handleEvent?a.handleEvent(d):a(d))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(a,c),r.apply(this,[s,c])};let o=n.removeEventListener;n.removeEventListener=function(s,a){if(s!==t||!this._eventMap||!this._eventMap[t])return o.apply(this,arguments);if(!this._eventMap[t].has(a))return o.apply(this,arguments);let c=this._eventMap[t].get(a);return this._eventMap[t].delete(a),this._eventMap[t].size===0&&delete this._eventMap[t],Object.keys(this._eventMap).length===0&&delete this._eventMap,o.apply(this,[s,c])},Object.defineProperty(n,"on"+t,{get(){return this["_on"+t]},set(s){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),s&&this.addEventListener(t,this["_on"+t]=s)},enumerable:!0,configurable:!0})}function Ro(i){return typeof i!="boolean"?new Error("Argument type: "+typeof i+". Please use a boolean."):(Do=i,i?"adapter.js logging disabled":"adapter.js logging enabled")}function Ao(i){return typeof i!="boolean"?new Error("Argument type: "+typeof i+". Please use a boolean."):(To=!i,"adapter.js deprecation warnings "+(i?"disabled":"enabled"))}function jt(){if(typeof window=="object"){if(Do)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function je(i,t){To&&console.warn(i+" is deprecated, please use "+t+" instead.")}function wo(i){let t={browser:null,version:null};if(typeof i>"u"||!i.navigator||!i.navigator.userAgent)return t.browser="Not a browser.",t;let{navigator:e}=i;if(e.userAgentData&&e.userAgentData.brands){let n=e.userAgentData.brands.find(r=>r.brand==="Chromium");if(n)return{browser:"chrome",version:parseInt(n.version,10)}}if(e.mozGetUserMedia)t.browser="firefox",t.version=tt(e.userAgent,/Firefox\/(\d+)\./,1);else if(e.webkitGetUserMedia||i.isSecureContext===!1&&i.webkitRTCPeerConnection)t.browser="chrome",t.version=tt(e.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(i.RTCPeerConnection&&e.userAgent.match(/AppleWebKit\/(\d+)\./))t.browser="safari",t.version=tt(e.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=i.RTCRtpTransceiver&&"currentDirection"in i.RTCRtpTransceiver.prototype;else return t.browser="Not a supported browser.",t;return t}function Po(i){return Object.prototype.toString.call(i)==="[object Object]"}function $i(i){return Po(i)?Object.keys(i).reduce(function(t,e){let n=Po(i[e]),r=n?$i(i[e]):i[e],o=n&&!Object.keys(r).length;return r===void 0||o?t:Object.assign(t,{[e]:r})},{}):i}function zi(i,t,e){!t||e.has(t.id)||(e.set(t.id,t),Object.keys(t).forEach(n=>{n.endsWith("Id")?zi(i,i.get(t[n]),e):n.endsWith("Ids")&&t[n].forEach(r=>{zi(i,i.get(r),e)})}))}function Ui(i,t,e){let n=e?"outbound-rtp":"inbound-rtp",r=new Map;if(t===null)return r;let o=[];return i.forEach(s=>{s.type==="track"&&s.trackIdentifier===t.id&&o.push(s)}),o.forEach(s=>{i.forEach(a=>{a.type===n&&a.trackId===s.id&&zi(i,a,r)})}),r}var Ut={};ft(Ut,{fixNegotiationNeeded:()=>Ji,shimAddTrackRemoveTrack:()=>Qi,shimAddTrackRemoveTrackWithNative:()=>Io,shimGetSendersWithDtmf:()=>Wi,shimGetUserMedia:()=>zt,shimMediaStream:()=>Gi,shimOnTrack:()=>Hi,shimPeerConnection:()=>$t,shimSenderReceiverGetStats:()=>qi});var Oo=jt;function zt(i,t){let e=i&&i.navigator;if(!e.mediaDevices)return;let n=function(a){if(typeof a!="object"||a.mandatory||a.optional)return a;let c={};return Object.keys(a).forEach(l=>{if(l==="require"||l==="advanced"||l==="mediaSource")return;let d=typeof a[l]=="object"?a[l]:{ideal:a[l]};d.exact!==void 0&&typeof d.exact=="number"&&(d.min=d.max=d.exact);let f=function(_,x){return _?_+x.charAt(0).toUpperCase()+x.slice(1):x==="deviceId"?"sourceId":x};if(d.ideal!==void 0){c.optional=c.optional||[];let _={};typeof d.ideal=="number"?(_[f("min",l)]=d.ideal,c.optional.push(_),_={},_[f("max",l)]=d.ideal,c.optional.push(_)):(_[f("",l)]=d.ideal,c.optional.push(_))}d.exact!==void 0&&typeof d.exact!="number"?(c.mandatory=c.mandatory||{},c.mandatory[f("",l)]=d.exact):["min","max"].forEach(_=>{d[_]!==void 0&&(c.mandatory=c.mandatory||{},c.mandatory[f(_,l)]=d[_])})}),a.advanced&&(c.optional=(c.optional||[]).concat(a.advanced)),c},r=function(a,c){if(t.version>=61)return c(a);if(a=JSON.parse(JSON.stringify(a)),a&&typeof a.audio=="object"){let l=function(d,f,_){f in d&&!(_ in d)&&(d[_]=d[f],delete d[f])};a=JSON.parse(JSON.stringify(a)),l(a.audio,"autoGainControl","googAutoGainControl"),l(a.audio,"noiseSuppression","googNoiseSuppression"),a.audio=n(a.audio)}if(a&&typeof a.video=="object"){let l=a.video.facingMode;l=l&&(typeof l=="object"?l:{ideal:l});let d=t.version<66;if(l&&(l.exact==="user"||l.exact==="environment"||l.ideal==="user"||l.ideal==="environment")&&!(e.mediaDevices.getSupportedConstraints&&e.mediaDevices.getSupportedConstraints().facingMode&&!d)){delete a.video.facingMode;let f;if(l.exact==="environment"||l.ideal==="environment"?f=["back","rear"]:(l.exact==="user"||l.ideal==="user")&&(f=["front"]),f)return e.mediaDevices.enumerateDevices().then(_=>{_=_.filter(w=>w.kind==="videoinput");let x=_.find(w=>f.some(I=>w.label.toLowerCase().includes(I)));return!x&&_.length&&f.includes("back")&&(x=_[_.length-1]),x&&(a.video.deviceId=l.exact?{exact:x.deviceId}:{ideal:x.deviceId}),a.video=n(a.video),Oo("chrome: "+JSON.stringify(a)),c(a)})}a.video=n(a.video)}return Oo("chrome: "+JSON.stringify(a)),c(a)},o=function(a){return t.version>=64?a:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[a.name]||a.name,message:a.message,constraint:a.constraint||a.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},s=function(a,c,l){r(a,d=>{e.webkitGetUserMedia(d,c,f=>{l&&l(o(f))})})};if(e.getUserMedia=s.bind(e),e.mediaDevices.getUserMedia){let a=e.mediaDevices.getUserMedia.bind(e.mediaDevices);e.mediaDevices.getUserMedia=function(c){return r(c,l=>a(l).then(d=>{if(l.audio&&!d.getAudioTracks().length||l.video&&!d.getVideoTracks().length)throw d.getTracks().forEach(f=>{f.stop()}),new DOMException("","NotFoundError");return d},d=>Promise.reject(o(d))))}}}function Gi(i){i.MediaStream=i.MediaStream||i.webkitMediaStream}function Hi(i){if(typeof i=="object"&&i.RTCPeerConnection&&!("ontrack"in i.RTCPeerConnection.prototype)){Object.defineProperty(i.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});let t=i.RTCPeerConnection.prototype.setRemoteDescription;i.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=n=>{n.stream.addEventListener("addtrack",r=>{let o;i.RTCPeerConnection.prototype.getReceivers?o=this.getReceivers().find(a=>a.track&&a.track.id===r.track.id):o={track:r.track};let s=new Event("track");s.track=r.track,s.receiver=o,s.transceiver={receiver:o},s.streams=[n.stream],this.dispatchEvent(s)}),n.stream.getTracks().forEach(r=>{let o;i.RTCPeerConnection.prototype.getReceivers?o=this.getReceivers().find(a=>a.track&&a.track.id===r.id):o={track:r};let s=new Event("track");s.track=r,s.receiver=o,s.transceiver={receiver:o},s.streams=[n.stream],this.dispatchEvent(s)})},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else re(i,"track",t=>(t.transceiver||Object.defineProperty(t,"transceiver",{value:{receiver:t.receiver}}),t))}function Wi(i){if(typeof i=="object"&&i.RTCPeerConnection&&!("getSenders"in i.RTCPeerConnection.prototype)&&"createDTMFSender"in i.RTCPeerConnection.prototype){let t=function(r,o){return{track:o,get dtmf(){return this._dtmf===void 0&&(o.kind==="audio"?this._dtmf=r.createDTMFSender(o):this._dtmf=null),this._dtmf},_pc:r}};if(!i.RTCPeerConnection.prototype.getSenders){i.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};let r=i.RTCPeerConnection.prototype.addTrack;i.RTCPeerConnection.prototype.addTrack=function(a,c){let l=r.apply(this,arguments);return l||(l=t(this,a),this._senders.push(l)),l};let o=i.RTCPeerConnection.prototype.removeTrack;i.RTCPeerConnection.prototype.removeTrack=function(a){o.apply(this,arguments);let c=this._senders.indexOf(a);c!==-1&&this._senders.splice(c,1)}}let e=i.RTCPeerConnection.prototype.addStream;i.RTCPeerConnection.prototype.addStream=function(o){this._senders=this._senders||[],e.apply(this,[o]),o.getTracks().forEach(s=>{this._senders.push(t(this,s))})};let n=i.RTCPeerConnection.prototype.removeStream;i.RTCPeerConnection.prototype.removeStream=function(o){this._senders=this._senders||[],n.apply(this,[o]),o.getTracks().forEach(s=>{let a=this._senders.find(c=>c.track===s);a&&this._senders.splice(this._senders.indexOf(a),1)})}}else if(typeof i=="object"&&i.RTCPeerConnection&&"getSenders"in i.RTCPeerConnection.prototype&&"createDTMFSender"in i.RTCPeerConnection.prototype&&i.RTCRtpSender&&!("dtmf"in i.RTCRtpSender.prototype)){let t=i.RTCPeerConnection.prototype.getSenders;i.RTCPeerConnection.prototype.getSenders=function(){let n=t.apply(this,[]);return n.forEach(r=>r._pc=this),n},Object.defineProperty(i.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function qi(i){if(!(typeof i=="object"&&i.RTCPeerConnection&&i.RTCRtpSender&&i.RTCRtpReceiver))return;if(!("getStats"in i.RTCRtpSender.prototype)){let e=i.RTCPeerConnection.prototype.getSenders;e&&(i.RTCPeerConnection.prototype.getSenders=function(){let o=e.apply(this,[]);return o.forEach(s=>s._pc=this),o});let n=i.RTCPeerConnection.prototype.addTrack;n&&(i.RTCPeerConnection.prototype.addTrack=function(){let o=n.apply(this,arguments);return o._pc=this,o}),i.RTCRtpSender.prototype.getStats=function(){let o=this;return this._pc.getStats().then(s=>Ui(s,o.track,!0))}}if(!("getStats"in i.RTCRtpReceiver.prototype)){let e=i.RTCPeerConnection.prototype.getReceivers;e&&(i.RTCPeerConnection.prototype.getReceivers=function(){let r=e.apply(this,[]);return r.forEach(o=>o._pc=this),r}),re(i,"track",n=>(n.receiver._pc=n.srcElement,n)),i.RTCRtpReceiver.prototype.getStats=function(){let r=this;return this._pc.getStats().then(o=>Ui(o,r.track,!1))}}if(!("getStats"in i.RTCRtpSender.prototype&&"getStats"in i.RTCRtpReceiver.prototype))return;let t=i.RTCPeerConnection.prototype.getStats;i.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof i.MediaStreamTrack){let n=arguments[0],r,o,s;return this.getSenders().forEach(a=>{a.track===n&&(r?s=!0:r=a)}),this.getReceivers().forEach(a=>(a.track===n&&(o?s=!0:o=a),a.track===n)),s||r&&o?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):r?r.getStats():o?o.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function Io(i){i.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(s=>this._shimmedLocalStreams[s][0])};let t=i.RTCPeerConnection.prototype.addTrack;i.RTCPeerConnection.prototype.addTrack=function(s,a){if(!a)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};let c=t.apply(this,arguments);return this._shimmedLocalStreams[a.id]?this._shimmedLocalStreams[a.id].indexOf(c)===-1&&this._shimmedLocalStreams[a.id].push(c):this._shimmedLocalStreams[a.id]=[a,c],c};let e=i.RTCPeerConnection.prototype.addStream;i.RTCPeerConnection.prototype.addStream=function(s){this._shimmedLocalStreams=this._shimmedLocalStreams||{},s.getTracks().forEach(l=>{if(this.getSenders().find(f=>f.track===l))throw new DOMException("Track already exists.","InvalidAccessError")});let a=this.getSenders();e.apply(this,arguments);let c=this.getSenders().filter(l=>a.indexOf(l)===-1);this._shimmedLocalStreams[s.id]=[s].concat(c)};let n=i.RTCPeerConnection.prototype.removeStream;i.RTCPeerConnection.prototype.removeStream=function(s){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[s.id],n.apply(this,arguments)};let r=i.RTCPeerConnection.prototype.removeTrack;i.RTCPeerConnection.prototype.removeTrack=function(s){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},s&&Object.keys(this._shimmedLocalStreams).forEach(a=>{let c=this._shimmedLocalStreams[a].indexOf(s);c!==-1&&this._shimmedLocalStreams[a].splice(c,1),this._shimmedLocalStreams[a].length===1&&delete this._shimmedLocalStreams[a]}),r.apply(this,arguments)}}function Qi(i,t){if(!i.RTCPeerConnection)return;if(i.RTCPeerConnection.prototype.addTrack&&t.version>=65)return Io(i);let e=i.RTCPeerConnection.prototype.getLocalStreams;i.RTCPeerConnection.prototype.getLocalStreams=function(){let d=e.apply(this);return this._reverseStreams=this._reverseStreams||{},d.map(f=>this._reverseStreams[f.id])};let n=i.RTCPeerConnection.prototype.addStream;i.RTCPeerConnection.prototype.addStream=function(d){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},d.getTracks().forEach(f=>{if(this.getSenders().find(x=>x.track===f))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[d.id]){let f=new i.MediaStream(d.getTracks());this._streams[d.id]=f,this._reverseStreams[f.id]=d,d=f}n.apply(this,[d])};let r=i.RTCPeerConnection.prototype.removeStream;i.RTCPeerConnection.prototype.removeStream=function(d){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},r.apply(this,[this._streams[d.id]||d]),delete this._reverseStreams[this._streams[d.id]?this._streams[d.id].id:d.id],delete this._streams[d.id]},i.RTCPeerConnection.prototype.addTrack=function(d,f){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");let _=[].slice.call(arguments,1);if(_.length!==1||!_[0].getTracks().find(I=>I===d))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(I=>I.track===d))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};let w=this._streams[f.id];if(w)w.addTrack(d),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{let I=new i.MediaStream([d]);this._streams[f.id]=I,this._reverseStreams[I.id]=f,this.addStream(I)}return this.getSenders().find(I=>I.track===d)};function o(l,d){let f=d.sdp;return Object.keys(l._reverseStreams||[]).forEach(_=>{let x=l._reverseStreams[_],w=l._streams[x.id];f=f.replace(new RegExp(w.id,"g"),x.id)}),new RTCSessionDescription({type:d.type,sdp:f})}function s(l,d){let f=d.sdp;return Object.keys(l._reverseStreams||[]).forEach(_=>{let x=l._reverseStreams[_],w=l._streams[x.id];f=f.replace(new RegExp(x.id,"g"),w.id)}),new RTCSessionDescription({type:d.type,sdp:f})}["createOffer","createAnswer"].forEach(function(l){let d=i.RTCPeerConnection.prototype[l],f={[l](){let _=arguments;return arguments.length&&typeof arguments[0]=="function"?d.apply(this,[w=>{let I=o(this,w);_[0].apply(null,[I])},w=>{_[1]&&_[1].apply(null,w)},arguments[2]]):d.apply(this,arguments).then(w=>o(this,w))}};i.RTCPeerConnection.prototype[l]=f[l]});let a=i.RTCPeerConnection.prototype.setLocalDescription;i.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?a.apply(this,arguments):(arguments[0]=s(this,arguments[0]),a.apply(this,arguments))};let c=Object.getOwnPropertyDescriptor(i.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(i.RTCPeerConnection.prototype,"localDescription",{get(){let l=c.get.apply(this);return l.type===""?l:o(this,l)}}),i.RTCPeerConnection.prototype.removeTrack=function(d){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!d._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(d._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let _;Object.keys(this._streams).forEach(x=>{this._streams[x].getTracks().find(I=>d.track===I)&&(_=this._streams[x])}),_&&(_.getTracks().length===1?this.removeStream(this._reverseStreams[_.id]):_.removeTrack(d.track),this.dispatchEvent(new Event("negotiationneeded")))}}function $t(i,t){!i.RTCPeerConnection&&i.webkitRTCPeerConnection&&(i.RTCPeerConnection=i.webkitRTCPeerConnection),i.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(e){let n=i.RTCPeerConnection.prototype[e],r={[e](){return arguments[0]=new(e==="addIceCandidate"?i.RTCIceCandidate:i.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}};i.RTCPeerConnection.prototype[e]=r[e]})}function Ji(i,t){re(i,"negotiationneeded",e=>{let n=e.target;if(!((t.version<72||n.getConfiguration&&n.getConfiguration().sdpSemantics==="plan-b")&&n.signalingState!=="stable"))return e})}var Wt={};ft(Wt,{shimAddTransceiver:()=>tn,shimCreateAnswer:()=>on,shimCreateOffer:()=>rn,shimGetDisplayMedia:()=>Fo,shimGetParameters:()=>nn,shimGetUserMedia:()=>Gt,shimOnTrack:()=>Yi,shimPeerConnection:()=>Ht,shimRTCDataChannel:()=>en,shimReceiverGetStats:()=>Ki,shimRemoveStream:()=>Xi,shimSenderGetStats:()=>Zi});function Gt(i,t){let e=i&&i.navigator,n=i&&i.MediaStreamTrack;if(e.getUserMedia=function(r,o,s){je("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),e.mediaDevices.getUserMedia(r).then(o,s)},!(t.version>55&&"autoGainControl"in e.mediaDevices.getSupportedConstraints())){let r=function(s,a,c){a in s&&!(c in s)&&(s[c]=s[a],delete s[a])},o=e.mediaDevices.getUserMedia.bind(e.mediaDevices);if(e.mediaDevices.getUserMedia=function(s){return typeof s=="object"&&typeof s.audio=="object"&&(s=JSON.parse(JSON.stringify(s)),r(s.audio,"autoGainControl","mozAutoGainControl"),r(s.audio,"noiseSuppression","mozNoiseSuppression")),o(s)},n&&n.prototype.getSettings){let s=n.prototype.getSettings;n.prototype.getSettings=function(){let a=s.apply(this,arguments);return r(a,"mozAutoGainControl","autoGainControl"),r(a,"mozNoiseSuppression","noiseSuppression"),a}}if(n&&n.prototype.applyConstraints){let s=n.prototype.applyConstraints;n.prototype.applyConstraints=function(a){return this.kind==="audio"&&typeof a=="object"&&(a=JSON.parse(JSON.stringify(a)),r(a,"autoGainControl","mozAutoGainControl"),r(a,"noiseSuppression","mozNoiseSuppression")),s.apply(this,[a])}}}}function Fo(i,t){i.navigator.mediaDevices&&"getDisplayMedia"in i.navigator.mediaDevices||i.navigator.mediaDevices&&(i.navigator.mediaDevices.getDisplayMedia=function(n){if(!(n&&n.video)){let r=new DOMException("getDisplayMedia without video constraints is undefined");return r.name="NotFoundError",r.code=8,Promise.reject(r)}return n.video===!0?n.video={mediaSource:t}:n.video.mediaSource=t,i.navigator.mediaDevices.getUserMedia(n)})}function Yi(i){typeof i=="object"&&i.RTCTrackEvent&&"receiver"in i.RTCTrackEvent.prototype&&!("transceiver"in i.RTCTrackEvent.prototype)&&Object.defineProperty(i.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Ht(i,t){if(typeof i!="object"||!(i.RTCPeerConnection||i.mozRTCPeerConnection))return;!i.RTCPeerConnection&&i.mozRTCPeerConnection&&(i.RTCPeerConnection=i.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(r){let o=i.RTCPeerConnection.prototype[r],s={[r](){return arguments[0]=new(r==="addIceCandidate"?i.RTCIceCandidate:i.RTCSessionDescription)(arguments[0]),o.apply(this,arguments)}};i.RTCPeerConnection.prototype[r]=s[r]});let e={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},n=i.RTCPeerConnection.prototype.getStats;i.RTCPeerConnection.prototype.getStats=function(){let[o,s,a]=arguments;return n.apply(this,[o||null]).then(c=>{if(t.version<53&&!s)try{c.forEach(l=>{l.type=e[l.type]||l.type})}catch(l){if(l.name!=="TypeError")throw l;c.forEach((d,f)=>{c.set(f,Object.assign({},d,{type:e[d.type]||d.type}))})}return c}).then(s,a)}}function Zi(i){if(!(typeof i=="object"&&i.RTCPeerConnection&&i.RTCRtpSender)||i.RTCRtpSender&&"getStats"in i.RTCRtpSender.prototype)return;let t=i.RTCPeerConnection.prototype.getSenders;t&&(i.RTCPeerConnection.prototype.getSenders=function(){let r=t.apply(this,[]);return r.forEach(o=>o._pc=this),r});let e=i.RTCPeerConnection.prototype.addTrack;e&&(i.RTCPeerConnection.prototype.addTrack=function(){let r=e.apply(this,arguments);return r._pc=this,r}),i.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function Ki(i){if(!(typeof i=="object"&&i.RTCPeerConnection&&i.RTCRtpSender)||i.RTCRtpSender&&"getStats"in i.RTCRtpReceiver.prototype)return;let t=i.RTCPeerConnection.prototype.getReceivers;t&&(i.RTCPeerConnection.prototype.getReceivers=function(){let n=t.apply(this,[]);return n.forEach(r=>r._pc=this),n}),re(i,"track",e=>(e.receiver._pc=e.srcElement,e)),i.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function Xi(i){!i.RTCPeerConnection||"removeStream"in i.RTCPeerConnection.prototype||(i.RTCPeerConnection.prototype.removeStream=function(e){je("removeStream","removeTrack"),this.getSenders().forEach(n=>{n.track&&e.getTracks().includes(n.track)&&this.removeTrack(n)})})}function en(i){i.DataChannel&&!i.RTCDataChannel&&(i.RTCDataChannel=i.DataChannel)}function tn(i){if(!(typeof i=="object"&&i.RTCPeerConnection))return;let t=i.RTCPeerConnection.prototype.addTransceiver;t&&(i.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let n=arguments[1]&&arguments[1].sendEncodings;n===void 0&&(n=[]),n=[...n];let r=n.length>0;r&&n.forEach(s=>{if("rid"in s&&!/^[a-z0-9]{0,16}$/i.test(s.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in s&&!(parseFloat(s.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in s&&!(parseFloat(s.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});let o=t.apply(this,arguments);if(r){let{sender:s}=o,a=s.getParameters();(!("encodings"in a)||a.encodings.length===1&&Object.keys(a.encodings[0]).length===0)&&(a.encodings=n,s.sendEncodings=n,this.setParametersPromises.push(s.setParameters(a).then(()=>{delete s.sendEncodings}).catch(()=>{delete s.sendEncodings})))}return o})}function nn(i){if(!(typeof i=="object"&&i.RTCRtpSender))return;let t=i.RTCRtpSender.prototype.getParameters;t&&(i.RTCRtpSender.prototype.getParameters=function(){let n=t.apply(this,arguments);return"encodings"in n||(n.encodings=[].concat(this.sendEncodings||[{}])),n})}function rn(i){if(!(typeof i=="object"&&i.RTCPeerConnection))return;let t=i.RTCPeerConnection.prototype.createOffer;i.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function on(i){if(!(typeof i=="object"&&i.RTCPeerConnection))return;let t=i.RTCPeerConnection.prototype.createAnswer;i.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}var qt={};ft(qt,{shimAudioContext:()=>mn,shimCallbacksAPI:()=>cn,shimConstraints:()=>Vo,shimCreateOfferLegacy:()=>fn,shimGetUserMedia:()=>ln,shimLocalStreamsAPI:()=>sn,shimRTCIceServerUrls:()=>dn,shimRemoteStreamsAPI:()=>an,shimTrackEventTransceiver:()=>un});function sn(i){if(!(typeof i!="object"||!i.RTCPeerConnection)){if("getLocalStreams"in i.RTCPeerConnection.prototype||(i.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in i.RTCPeerConnection.prototype)){let t=i.RTCPeerConnection.prototype.addTrack;i.RTCPeerConnection.prototype.addStream=function(n){this._localStreams||(this._localStreams=[]),this._localStreams.includes(n)||this._localStreams.push(n),n.getAudioTracks().forEach(r=>t.call(this,r,n)),n.getVideoTracks().forEach(r=>t.call(this,r,n))},i.RTCPeerConnection.prototype.addTrack=function(n,...r){return r&&r.forEach(o=>{this._localStreams?this._localStreams.includes(o)||this._localStreams.push(o):this._localStreams=[o]}),t.apply(this,arguments)}}"removeStream"in i.RTCPeerConnection.prototype||(i.RTCPeerConnection.prototype.removeStream=function(e){this._localStreams||(this._localStreams=[]);let n=this._localStreams.indexOf(e);if(n===-1)return;this._localStreams.splice(n,1);let r=e.getTracks();this.getSenders().forEach(o=>{r.includes(o.track)&&this.removeTrack(o)})})}}function an(i){if(!(typeof i!="object"||!i.RTCPeerConnection)&&("getRemoteStreams"in i.RTCPeerConnection.prototype||(i.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in i.RTCPeerConnection.prototype))){Object.defineProperty(i.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(e){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=n=>{n.streams.forEach(r=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(r))return;this._remoteStreams.push(r);let o=new Event("addstream");o.stream=r,this.dispatchEvent(o)})})}});let t=i.RTCPeerConnection.prototype.setRemoteDescription;i.RTCPeerConnection.prototype.setRemoteDescription=function(){let n=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(r){r.streams.forEach(o=>{if(n._remoteStreams||(n._remoteStreams=[]),n._remoteStreams.indexOf(o)>=0)return;n._remoteStreams.push(o);let s=new Event("addstream");s.stream=o,n.dispatchEvent(s)})}),t.apply(n,arguments)}}}function cn(i){if(typeof i!="object"||!i.RTCPeerConnection)return;let t=i.RTCPeerConnection.prototype,e=t.createOffer,n=t.createAnswer,r=t.setLocalDescription,o=t.setRemoteDescription,s=t.addIceCandidate;t.createOffer=function(l,d){let f=arguments.length>=2?arguments[2]:arguments[0],_=e.apply(this,[f]);return d?(_.then(l,d),Promise.resolve()):_},t.createAnswer=function(l,d){let f=arguments.length>=2?arguments[2]:arguments[0],_=n.apply(this,[f]);return d?(_.then(l,d),Promise.resolve()):_};let a=function(c,l,d){let f=r.apply(this,[c]);return d?(f.then(l,d),Promise.resolve()):f};t.setLocalDescription=a,a=function(c,l,d){let f=o.apply(this,[c]);return d?(f.then(l,d),Promise.resolve()):f},t.setRemoteDescription=a,a=function(c,l,d){let f=s.apply(this,[c]);return d?(f.then(l,d),Promise.resolve()):f},t.addIceCandidate=a}function ln(i){let t=i&&i.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){let e=t.mediaDevices,n=e.getUserMedia.bind(e);t.mediaDevices.getUserMedia=r=>n(Vo(r))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(n,r,o){t.mediaDevices.getUserMedia(n).then(r,o)}.bind(t))}function Vo(i){return i&&i.video!==void 0?Object.assign({},i,{video:$i(i.video)}):i}function dn(i){if(!i.RTCPeerConnection)return;let t=i.RTCPeerConnection;i.RTCPeerConnection=function(n,r){if(n&&n.iceServers){let o=[];for(let s=0;s<n.iceServers.length;s++){let a=n.iceServers[s];a.urls===void 0&&a.url?(je("RTCIceServer.url","RTCIceServer.urls"),a=JSON.parse(JSON.stringify(a)),a.urls=a.url,delete a.url,o.push(a)):o.push(n.iceServers[s])}n.iceServers=o}return new t(n,r)},i.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(i.RTCPeerConnection,"generateCertificate",{get(){return t.generateCertificate}})}function un(i){typeof i=="object"&&i.RTCTrackEvent&&"receiver"in i.RTCTrackEvent.prototype&&!("transceiver"in i.RTCTrackEvent.prototype)&&Object.defineProperty(i.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function fn(i){let t=i.RTCPeerConnection.prototype.createOffer;i.RTCPeerConnection.prototype.createOffer=function(n){if(n){typeof n.offerToReceiveAudio<"u"&&(n.offerToReceiveAudio=!!n.offerToReceiveAudio);let r=this.getTransceivers().find(s=>s.receiver.track.kind==="audio");n.offerToReceiveAudio===!1&&r?r.direction==="sendrecv"?r.setDirection?r.setDirection("sendonly"):r.direction="sendonly":r.direction==="recvonly"&&(r.setDirection?r.setDirection("inactive"):r.direction="inactive"):n.offerToReceiveAudio===!0&&!r&&this.addTransceiver("audio",{direction:"recvonly"}),typeof n.offerToReceiveVideo<"u"&&(n.offerToReceiveVideo=!!n.offerToReceiveVideo);let o=this.getTransceivers().find(s=>s.receiver.track.kind==="video");n.offerToReceiveVideo===!1&&o?o.direction==="sendrecv"?o.setDirection?o.setDirection("sendonly"):o.direction="sendonly":o.direction==="recvonly"&&(o.setDirection?o.setDirection("inactive"):o.direction="inactive"):n.offerToReceiveVideo===!0&&!o&&this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function mn(i){typeof i!="object"||i.AudioContext||(i.AudioContext=i.webkitAudioContext)}var gn={};ft(gn,{removeExtmapAllowMixed:()=>Yt,shimAddIceCandidateNullOrEmpty:()=>ot,shimConnectionState:()=>Jt,shimMaxMessageSize:()=>nt,shimParameterlessSetLocalDescription:()=>st,shimRTCIceCandidate:()=>it,shimRTCIceCandidateRelayProtocol:()=>Qt,shimSendThrowTypeError:()=>rt});var ze=Dn(pn());function it(i){if(!i.RTCIceCandidate||i.RTCIceCandidate&&"foundation"in i.RTCIceCandidate.prototype)return;let t=i.RTCIceCandidate;i.RTCIceCandidate=function(n){if(typeof n=="object"&&n.candidate&&n.candidate.indexOf("a=")===0&&(n=JSON.parse(JSON.stringify(n)),n.candidate=n.candidate.substring(2)),n.candidate&&n.candidate.length){let r=new t(n),o=ze.default.parseCandidate(n.candidate);for(let s in o)s in r||Object.defineProperty(r,s,{value:o[s]});return r.toJSON=function(){return{candidate:r.candidate,sdpMid:r.sdpMid,sdpMLineIndex:r.sdpMLineIndex,usernameFragment:r.usernameFragment}},r}return new t(n)},i.RTCIceCandidate.prototype=t.prototype,re(i,"icecandidate",e=>(e.candidate&&Object.defineProperty(e,"candidate",{value:new i.RTCIceCandidate(e.candidate),writable:"false"}),e))}function Qt(i){!i.RTCIceCandidate||i.RTCIceCandidate&&"relayProtocol"in i.RTCIceCandidate.prototype||re(i,"icecandidate",t=>{if(t.candidate){let e=ze.default.parseCandidate(t.candidate.candidate);e.type==="relay"&&(t.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[e.priority>>24])}return t})}function nt(i,t){if(!i.RTCPeerConnection)return;"sctp"in i.RTCPeerConnection.prototype||Object.defineProperty(i.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});let e=function(a){if(!a||!a.sdp)return!1;let c=ze.default.splitSections(a.sdp);return c.shift(),c.some(l=>{let d=ze.default.parseMLine(l);return d&&d.kind==="application"&&d.protocol.indexOf("SCTP")!==-1})},n=function(a){let c=a.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(c===null||c.length<2)return-1;let l=parseInt(c[1],10);return l!==l?-1:l},r=function(a){let c=65536;return t.browser==="firefox"&&(t.version<57?a===-1?c=16384:c=2147483637:t.version<60?c=t.version===57?65535:65536:c=2147483637),c},o=function(a,c){let l=65536;t.browser==="firefox"&&t.version===57&&(l=65535);let d=ze.default.matchPrefix(a.sdp,"a=max-message-size:");return d.length>0?l=parseInt(d[0].substring(19),10):t.browser==="firefox"&&c!==-1&&(l=2147483637),l},s=i.RTCPeerConnection.prototype.setRemoteDescription;i.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,t.browser==="chrome"&&t.version>=76){let{sdpSemantics:c}=this.getConfiguration();c==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(e(arguments[0])){let c=n(arguments[0]),l=r(c),d=o(arguments[0],c),f;l===0&&d===0?f=Number.POSITIVE_INFINITY:l===0||d===0?f=Math.max(l,d):f=Math.min(l,d);let _={};Object.defineProperty(_,"maxMessageSize",{get(){return f}}),this._sctp=_}return s.apply(this,arguments)}}function rt(i){if(!(i.RTCPeerConnection&&"createDataChannel"in i.RTCPeerConnection.prototype))return;function t(n,r){let o=n.send;n.send=function(){let a=arguments[0],c=a.length||a.size||a.byteLength;if(n.readyState==="open"&&r.sctp&&c>r.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+r.sctp.maxMessageSize+" bytes)");return o.apply(n,arguments)}}let e=i.RTCPeerConnection.prototype.createDataChannel;i.RTCPeerConnection.prototype.createDataChannel=function(){let r=e.apply(this,arguments);return t(r,this),r},re(i,"datachannel",n=>(t(n.channel,n.target),n))}function Jt(i){if(!i.RTCPeerConnection||"connectionState"in i.RTCPeerConnection.prototype)return;let t=i.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(e=>{let n=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=r=>{let o=r.target;if(o._lastConnectionState!==o.connectionState){o._lastConnectionState=o.connectionState;let s=new Event("connectionstatechange",r);o.dispatchEvent(s)}return r},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),n.apply(this,arguments)}})}function Yt(i,t){if(!i.RTCPeerConnection||t.browser==="chrome"&&t.version>=71||t.browser==="safari"&&t.version>=605)return;let e=i.RTCPeerConnection.prototype.setRemoteDescription;i.RTCPeerConnection.prototype.setRemoteDescription=function(r){if(r&&r.sdp&&r.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){let o=r.sdp.split(`
`).filter(s=>s.trim()!=="a=extmap-allow-mixed").join(`
`);i.RTCSessionDescription&&r instanceof i.RTCSessionDescription?arguments[0]=new i.RTCSessionDescription({type:r.type,sdp:o}):r.sdp=o}return e.apply(this,arguments)}}function ot(i,t){if(!(i.RTCPeerConnection&&i.RTCPeerConnection.prototype))return;let e=i.RTCPeerConnection.prototype.addIceCandidate;!e||e.length===0||(i.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(t.browser==="chrome"&&t.version<78||t.browser==="firefox"&&t.version<68||t.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():e.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function st(i,t){if(!(i.RTCPeerConnection&&i.RTCPeerConnection.prototype))return;let e=i.RTCPeerConnection.prototype.setLocalDescription;!e||e.length===0||(i.RTCPeerConnection.prototype.setLocalDescription=function(){let r=arguments[0]||{};if(typeof r!="object"||r.type&&r.sdp)return e.apply(this,arguments);if(r={type:r.type,sdp:r.sdp},!r.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":r.type="offer";break;default:r.type="answer";break}return r.sdp||r.type!=="offer"&&r.type!=="answer"?e.apply(this,[r]):(r.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(s=>e.apply(this,[s]))})}var Aa=Dn(pn());function Lo({window:i}={},t={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){let e=jt,n=wo(i),r={browserDetails:n,commonShim:gn,extractVersion:tt,disableLog:Ro,disableWarnings:Ao,sdp:Aa};switch(n.browser){case"chrome":if(!Ut||!$t||!t.shimChrome)return e("Chrome shim is not included in this adapter release."),r;if(n.version===null)return e("Chrome shim can not determine version, not shimming."),r;e("adapter.js shimming chrome."),r.browserShim=Ut,ot(i,n),st(i,n),zt(i,n),Gi(i,n),$t(i,n),Hi(i,n),Qi(i,n),Wi(i,n),qi(i,n),Ji(i,n),it(i,n),Qt(i,n),Jt(i,n),nt(i,n),rt(i,n),Yt(i,n);break;case"firefox":if(!Wt||!Ht||!t.shimFirefox)return e("Firefox shim is not included in this adapter release."),r;e("adapter.js shimming firefox."),r.browserShim=Wt,ot(i,n),st(i,n),Gt(i,n),Ht(i,n),Yi(i,n),Xi(i,n),Zi(i,n),Ki(i,n),en(i,n),tn(i,n),nn(i,n),rn(i,n),on(i,n),it(i,n),Jt(i,n),nt(i,n),rt(i,n);break;case"safari":if(!qt||!t.shimSafari)return e("Safari shim is not included in this adapter release."),r;e("adapter.js shimming safari."),r.browserShim=qt,ot(i,n),st(i,n),dn(i,n),fn(i,n),cn(i,n),sn(i,n),an(i,n),un(i,n),ln(i,n),mn(i,n),it(i,n),Qt(i,n),nt(i,n),rt(i,n),Yt(i,n);break;default:e("Unsupported browser!");break}return r}var wa=Lo({window:typeof window>"u"?void 0:window}),_n=wa;function De(i,t,e,n){Object.defineProperty(i,t,{get:e,set:n,enumerable:!0,configurable:!0})}var Kt=class{constructor(){this.chunkedMTU=16300,this._dataCount=1,this.chunk=t=>{let e=[],n=t.byteLength,r=Math.ceil(n/this.chunkedMTU),o=0,s=0;for(;s<n;){let a=Math.min(n,s+this.chunkedMTU),c=t.slice(s,a),l={__peerData:this._dataCount,n:o,data:c,total:r};e.push(l),s=a,o++}return this._dataCount++,e}}};function Oa(i){let t=0;for(let r of i)t+=r.byteLength;let e=new Uint8Array(t),n=0;for(let r of i)e.set(r,n),n+=r.byteLength;return e}var vn=_n.default||_n,at=new class{isWebRTCSupported(){return typeof RTCPeerConnection<"u"}isBrowserSupported(){let i=this.getBrowser(),t=this.getVersion();return this.supportedBrowsers.includes(i)?i==="chrome"?t>=this.minChromeVersion:i==="firefox"?t>=this.minFirefoxVersion:i==="safari"?!this.isIOS&&t>=this.minSafariVersion:!1:!1}getBrowser(){return vn.browserDetails.browser}getVersion(){return vn.browserDetails.version||0}isUnifiedPlanSupported(){let i=this.getBrowser(),t=vn.browserDetails.version||0;if(i==="chrome"&&t<this.minChromeVersion)return!1;if(i==="firefox"&&t>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;let e,n=!1;try{e=new RTCPeerConnection,e.addTransceiver("audio"),n=!0}catch{}finally{e&&e.close()}return n}toString(){return`Supports:
    browser:${this.getBrowser()}
    version:${this.getVersion()}
    isIOS:${this.isIOS}
    isWebRTCSupported:${this.isWebRTCSupported()}
    isBrowserSupported:${this.isBrowserSupported()}
    isUnifiedPlanSupported:${this.isUnifiedPlanSupported()}`}constructor(){this.isIOS=typeof navigator<"u"?["iPad","iPhone","iPod"].includes(navigator.platform):!1,this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}},Ia=i=>!i||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(i),No=()=>Math.random().toString(36).slice(2),Bo={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"},yn=class extends Kt{noop(){}blobToArrayBuffer(t,e){let n=new FileReader;return n.onload=function(r){r.target&&e(r.target.result)},n.readAsArrayBuffer(t),n}binaryStringToArrayBuffer(t){let e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n)&255;return e.buffer}isSecure(){return location.protocol==="https:"}constructor(...t){super(...t),this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.defaultConfig=Bo,this.browser=at.getBrowser(),this.browserVersion=at.getVersion(),this.pack=ji,this.unpack=Ni,this.supports=function(){let e={browser:at.isBrowserSupported(),webRTC:at.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!e.webRTC)return e;let n;try{n=new RTCPeerConnection(Bo),e.audioVideo=!0;let r;try{r=n.createDataChannel("_PEERJSTEST",{ordered:!0}),e.data=!0,e.reliable=!!r.ordered;try{r.binaryType="blob",e.binaryBlob=!at.isIOS}catch{}}catch{}finally{r&&r.close()}}catch{}finally{n&&n.close()}return e}(),this.validateId=Ia,this.randomToken=No}},H=new yn,Fa="PeerJS: ";var bn=class{get logLevel(){return this._logLevel}set logLevel(t){this._logLevel=t}log(...t){this._logLevel>=3&&this._print(3,...t)}warn(...t){this._logLevel>=2&&this._print(2,...t)}error(...t){this._logLevel>=1&&this._print(1,...t)}setLogFunction(t){this._print=t}_print(t,...e){let n=[Fa,...e];for(let r in n)n[r]instanceof Error&&(n[r]="("+n[r].name+") "+n[r].message);t>=3?console.log(...n):t>=2?console.warn("WARNING",...n):t>=1&&console.error("ERROR",...n)}constructor(){this._logLevel=0}},p=new bn,En={},Va=Object.prototype.hasOwnProperty,U="~";function lt(){}Object.create&&(lt.prototype=Object.create(null),new lt().__proto__||(U=!1));function La(i,t,e){this.fn=i,this.context=t,this.once=e||!1}function jo(i,t,e,n,r){if(typeof e!="function")throw new TypeError("The listener must be a function");var o=new La(e,n||i,r),s=U?U+t:t;return i._events[s]?i._events[s].fn?i._events[s]=[i._events[s],o]:i._events[s].push(o):(i._events[s]=o,i._eventsCount++),i}function Zt(i,t){--i._eventsCount===0?i._events=new lt:delete i._events[t]}function N(){this._events=new lt,this._eventsCount=0}N.prototype.eventNames=function(){var t=[],e,n;if(this._eventsCount===0)return t;for(n in e=this._events)Va.call(e,n)&&t.push(U?n.slice(1):n);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(e)):t};N.prototype.listeners=function(t){var e=U?U+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,o=n.length,s=new Array(o);r<o;r++)s[r]=n[r].fn;return s};N.prototype.listenerCount=function(t){var e=U?U+t:t,n=this._events[e];return n?n.fn?1:n.length:0};N.prototype.emit=function(t,e,n,r,o,s){var a=U?U+t:t;if(!this._events[a])return!1;var c=this._events[a],l=arguments.length,d,f;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),l){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,n),!0;case 4:return c.fn.call(c.context,e,n,r),!0;case 5:return c.fn.call(c.context,e,n,r,o),!0;case 6:return c.fn.call(c.context,e,n,r,o,s),!0}for(f=1,d=new Array(l-1);f<l;f++)d[f-1]=arguments[f];c.fn.apply(c.context,d)}else{var _=c.length,x;for(f=0;f<_;f++)switch(c[f].once&&this.removeListener(t,c[f].fn,void 0,!0),l){case 1:c[f].fn.call(c[f].context);break;case 2:c[f].fn.call(c[f].context,e);break;case 3:c[f].fn.call(c[f].context,e,n);break;case 4:c[f].fn.call(c[f].context,e,n,r);break;default:if(!d)for(x=1,d=new Array(l-1);x<l;x++)d[x-1]=arguments[x];c[f].fn.apply(c[f].context,d)}}return!0};N.prototype.on=function(t,e,n){return jo(this,t,e,n,!1)};N.prototype.once=function(t,e,n){return jo(this,t,e,n,!0)};N.prototype.removeListener=function(t,e,n,r){var o=U?U+t:t;if(!this._events[o])return this;if(!e)return Zt(this,o),this;var s=this._events[o];if(s.fn)s.fn===e&&(!r||s.once)&&(!n||s.context===n)&&Zt(this,o);else{for(var a=0,c=[],l=s.length;a<l;a++)(s[a].fn!==e||r&&!s[a].once||n&&s[a].context!==n)&&c.push(s[a]);c.length?this._events[o]=c.length===1?c[0]:c:Zt(this,o)}return this};N.prototype.removeAllListeners=function(t){var e;return t?(e=U?U+t:t,this._events[e]&&Zt(this,e)):(this._events=new lt,this._eventsCount=0),this};N.prototype.off=N.prototype.removeListener;N.prototype.addListener=N.prototype.on;N.prefixed=U;N.EventEmitter=N;En=N;var Te={};De(Te,"ConnectionType",()=>fe);De(Te,"PeerErrorType",()=>T);De(Te,"BaseConnectionErrorType",()=>Xt);De(Te,"DataConnectionErrorType",()=>si);De(Te,"SerializationType",()=>ut);De(Te,"SocketEventType",()=>ue);De(Te,"ServerMessageType",()=>V);var fe=function(i){return i.Data="data",i.Media="media",i}(fe||{}),T=function(i){return i.BrowserIncompatible="browser-incompatible",i.Disconnected="disconnected",i.InvalidID="invalid-id",i.InvalidKey="invalid-key",i.Network="network",i.PeerUnavailable="peer-unavailable",i.SslUnavailable="ssl-unavailable",i.ServerError="server-error",i.SocketError="socket-error",i.SocketClosed="socket-closed",i.UnavailableID="unavailable-id",i.WebRTC="webrtc",i}(T||{}),Xt=function(i){return i.NegotiationFailed="negotiation-failed",i.ConnectionClosed="connection-closed",i}(Xt||{}),si=function(i){return i.NotOpenYet="not-open-yet",i.MessageToBig="message-too-big",i}(si||{}),ut=function(i){return i.Binary="binary",i.BinaryUTF8="binary-utf8",i.JSON="json",i.None="raw",i}(ut||{}),ue=function(i){return i.Message="message",i.Disconnected="disconnected",i.Error="error",i.Close="close",i}(ue||{}),V=function(i){return i.Heartbeat="HEARTBEAT",i.Candidate="CANDIDATE",i.Offer="OFFER",i.Answer="ANSWER",i.Open="OPEN",i.Error="ERROR",i.IdTaken="ID-TAKEN",i.InvalidKey="INVALID-KEY",i.Leave="LEAVE",i.Expire="EXPIRE",i}(V||{}),Pn={};Pn=JSON.parse('{"name":"peerjs","version":"1.5.4","keywords":["peerjs","webrtc","p2p","rtc"],"description":"PeerJS client","homepage":"https://peerjs.com","bugs":{"url":"https://github.com/peers/peerjs/issues"},"repository":{"type":"git","url":"https://github.com/peers/peerjs"},"license":"MIT","contributors":["Michelle Bu <michelle@michellebu.com>","afrokick <devbyru@gmail.com>","ericz <really.ez@gmail.com>","Jairo <kidandcat@gmail.com>","Jonas Gloning <34194370+jonasgloning@users.noreply.github.com>","Jairo Caro-Accino Viciana <jairo@galax.be>","Carlos Caballero <carlos.caballero.gonzalez@gmail.com>","hc <hheennrryy@gmail.com>","Muhammad Asif <capripio@gmail.com>","PrashoonB <prashoonbhattacharjee@gmail.com>","Harsh Bardhan Mishra <47351025+HarshCasper@users.noreply.github.com>","akotynski <aleksanderkotbury@gmail.com>","lmb <i@lmb.io>","Jairooo <jairocaro@msn.com>","Moritz St\xFCckler <moritz.stueckler@gmail.com>","Simon <crydotsnakegithub@gmail.com>","Denis Lukov <denismassters@gmail.com>","Philipp Hancke <fippo@andyet.net>","Hans Oksendahl <hansoksendahl@gmail.com>","Jess <jessachandler@gmail.com>","khankuan <khankuan@gmail.com>","DUODVK <kurmanov.work@gmail.com>","XiZhao <kwang1imsa@gmail.com>","Matthias Lohr <matthias@lohr.me>","=frank tree <=frnktrb@googlemail.com>","Andre Eckardt <aeckardt@outlook.com>","Chris Cowan <agentme49@gmail.com>","Alex Chuev <alex@chuev.com>","alxnull <alxnull@e.mail.de>","Yemel Jardi <angel.jardi@gmail.com>","Ben Parnell <benjaminparnell.94@gmail.com>","Benny Lichtner <bennlich@gmail.com>","fresheneesz <bitetrudpublic@gmail.com>","bob.barstead@exaptive.com <bob.barstead@exaptive.com>","chandika <chandika@gmail.com>","emersion <contact@emersion.fr>","Christopher Van <cvan@users.noreply.github.com>","eddieherm <edhermoso@gmail.com>","Eduardo Pinho <enet4mikeenet@gmail.com>","Evandro Zanatta <ezanatta@tray.net.br>","Gardner Bickford <gardner@users.noreply.github.com>","Gian Luca <gianluca.cecchi@cynny.com>","PatrickJS <github@gdi2290.com>","jonnyf <github@jonathanfoss.co.uk>","Hizkia Felix <hizkifw@gmail.com>","Hristo Oskov <hristo.oskov@gmail.com>","Isaac Madwed <i.madwed@gmail.com>","Ilya Konanykhin <ilya.konanykhin@gmail.com>","jasonbarry <jasbarry@me.com>","Jonathan Burke <jonathan.burke.1311@googlemail.com>","Josh Hamit <josh.hamit@gmail.com>","Jordan Austin <jrax86@gmail.com>","Joel Wetzell <jwetzell@yahoo.com>","xizhao <kevin.wang@cloudera.com>","Alberto Torres <kungfoobar@gmail.com>","Jonathan Mayol <mayoljonathan@gmail.com>","Jefferson Felix <me@jsfelix.dev>","Rolf Erik Lekang <me@rolflekang.com>","Kevin Mai-Husan Chia <mhchia@users.noreply.github.com>","Pepijn de Vos <pepijndevos@gmail.com>","JooYoung <qkdlql@naver.com>","Tobias Speicher <rootcommander@gmail.com>","Steve Blaurock <sblaurock@gmail.com>","Kyrylo Shegeda <shegeda@ualberta.ca>","Diwank Singh Tomer <singh@diwank.name>","So\u0308ren Balko <Soeren.Balko@gmail.com>","Arpit Solanki <solankiarpit1997@gmail.com>","Yuki Ito <yuki@gnnk.net>","Artur Zayats <zag2art@gmail.com>"],"funding":{"type":"opencollective","url":"https://opencollective.com/peer"},"collective":{"type":"opencollective","url":"https://opencollective.com/peer"},"files":["dist/*"],"sideEffects":["lib/global.ts","lib/supports.ts"],"main":"dist/bundler.cjs","module":"dist/bundler.mjs","browser-minified":"dist/peerjs.min.js","browser-unminified":"dist/peerjs.js","browser-minified-msgpack":"dist/serializer.msgpack.mjs","types":"dist/types.d.ts","engines":{"node":">= 14"},"targets":{"types":{"source":"lib/exports.ts"},"main":{"source":"lib/exports.ts","sourceMap":{"inlineSources":true}},"module":{"source":"lib/exports.ts","includeNodeModules":["eventemitter3"],"sourceMap":{"inlineSources":true}},"browser-minified":{"context":"browser","outputFormat":"global","optimize":true,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 80, safari >= 15"},"source":"lib/global.ts"},"browser-unminified":{"context":"browser","outputFormat":"global","optimize":false,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 80, safari >= 15"},"source":"lib/global.ts"},"browser-minified-msgpack":{"context":"browser","outputFormat":"esmodule","isLibrary":true,"optimize":true,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 102, safari >= 15"},"source":"lib/dataconnection/StreamConnection/MsgPack.ts"}},"scripts":{"contributors":"git-authors-cli --print=false && prettier --write package.json && git add package.json package-lock.json && git commit -m \\"chore(contributors): update and sort contributors list\\"","check":"tsc --noEmit && tsc -p e2e/tsconfig.json --noEmit","watch":"parcel watch","build":"rm -rf dist && parcel build","prepublishOnly":"npm run build","test":"jest","test:watch":"jest --watch","coverage":"jest --coverage --collectCoverageFrom=\\"./lib/**\\"","format":"prettier --write .","format:check":"prettier --check .","semantic-release":"semantic-release","e2e":"wdio run e2e/wdio.local.conf.ts","e2e:bstack":"wdio run e2e/wdio.bstack.conf.ts"},"devDependencies":{"@parcel/config-default":"^2.9.3","@parcel/packager-ts":"^2.9.3","@parcel/transformer-typescript-tsc":"^2.9.3","@parcel/transformer-typescript-types":"^2.9.3","@semantic-release/changelog":"^6.0.1","@semantic-release/git":"^10.0.1","@swc/core":"^1.3.27","@swc/jest":"^0.2.24","@types/jasmine":"^4.3.4","@wdio/browserstack-service":"^8.11.2","@wdio/cli":"^8.11.2","@wdio/globals":"^8.11.2","@wdio/jasmine-framework":"^8.11.2","@wdio/local-runner":"^8.11.2","@wdio/spec-reporter":"^8.11.2","@wdio/types":"^8.10.4","http-server":"^14.1.1","jest":"^29.3.1","jest-environment-jsdom":"^29.3.1","mock-socket":"^9.0.0","parcel":"^2.9.3","prettier":"^3.0.0","semantic-release":"^21.0.0","ts-node":"^10.9.1","typescript":"^5.0.0","wdio-geckodriver-service":"^5.0.1"},"dependencies":{"@msgpack/msgpack":"^2.8.0","eventemitter3":"^4.0.7","peerjs-js-binarypack":"^2.1.0","webrtc-adapter":"^9.0.0"},"alias":{"process":false,"buffer":false}}');var xn=class extends En.EventEmitter{constructor(t,e,n,r,o,s=5e3){super(),this.pingInterval=s,this._disconnected=!0,this._messagesQueue=[];let a=t?"wss://":"ws://";this._baseUrl=a+e+":"+n+r+"peerjs?key="+o}start(t,e){this._id=t;let n=`${this._baseUrl}&id=${t}&token=${e}`;this._socket||!this._disconnected||(this._socket=new WebSocket(n+"&version="+Pn.version),this._disconnected=!1,this._socket.onmessage=r=>{let o;try{o=JSON.parse(r.data),p.log("Server message received:",o)}catch{p.log("Invalid server message",r.data);return}this.emit(ue.Message,o)},this._socket.onclose=r=>{this._disconnected||(p.log("Socket closed.",r),this._cleanup(),this._disconnected=!0,this.emit(ue.Disconnected))},this._socket.onopen=()=>{this._disconnected||(this._sendQueuedMessages(),p.log("Socket open"),this._scheduleHeartbeat())})}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(!this._wsOpen()){p.log("Cannot send heartbeat, because socket closed");return}let t=JSON.stringify({type:V.Heartbeat});this._socket.send(t),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){let t=[...this._messagesQueue];this._messagesQueue=[];for(let e of t)this.send(e)}send(t){if(this._disconnected)return;if(!this._id){this._messagesQueue.push(t);return}if(!t.type){this.emit(ue.Error,"Invalid message");return}if(!this._wsOpen())return;let e=JSON.stringify(t);this._socket.send(e)}close(){this._disconnected||(this._cleanup(),this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}},ei=class{constructor(t){this.connection=t}startConnection(t){let e=this._startPeerConnection();if(this.connection.peerConnection=e,this.connection.type===fe.Media&&t._stream&&this._addTracksToConnection(t._stream,e),t.originator){let n=this.connection,r={ordered:!!t.reliable},o=e.createDataChannel(n.label,r);n._initializeDataChannel(o),this._makeOffer()}else this.handleSDP("OFFER",t.sdp)}_startPeerConnection(){p.log("Creating RTCPeerConnection.");let t=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(t),t}_setupListeners(t){let e=this.connection.peer,n=this.connection.connectionId,r=this.connection.type,o=this.connection.provider;p.log("Listening for ICE candidates."),t.onicecandidate=s=>{!s.candidate||!s.candidate.candidate||(p.log(`Received ICE candidates for ${e}:`,s.candidate),o.socket.send({type:V.Candidate,payload:{candidate:s.candidate,type:r,connectionId:n},dst:e}))},t.oniceconnectionstatechange=()=>{switch(t.iceConnectionState){case"failed":p.log("iceConnectionState is failed, closing connections to "+e),this.connection.emitError(Xt.NegotiationFailed,"Negotiation of connection to "+e+" failed."),this.connection.close();break;case"closed":p.log("iceConnectionState is closed, closing connections to "+e),this.connection.emitError(Xt.ConnectionClosed,"Connection to "+e+" closed."),this.connection.close();break;case"disconnected":p.log("iceConnectionState changed to disconnected on the connection with "+e);break;case"completed":t.onicecandidate=()=>{};break}this.connection.emit("iceStateChanged",t.iceConnectionState)},p.log("Listening for data channel"),t.ondatachannel=s=>{p.log("Received data channel");let a=s.channel;o.getConnection(e,n)._initializeDataChannel(a)},p.log("Listening for remote stream"),t.ontrack=s=>{p.log("Received remote stream");let a=s.streams[0],c=o.getConnection(e,n);if(c.type===fe.Media){let l=c;this._addStreamToMediaConnection(a,l)}}}cleanup(){p.log("Cleaning up PeerConnection to "+this.connection.peer);let t=this.connection.peerConnection;if(!t)return;this.connection.peerConnection=null,t.onicecandidate=t.oniceconnectionstatechange=t.ondatachannel=t.ontrack=()=>{};let e=t.signalingState!=="closed",n=!1,r=this.connection.dataChannel;r&&(n=!!r.readyState&&r.readyState!=="closed"),(e||n)&&t.close()}_makeOffer(){return oe(this,null,function*(){let t=this.connection.peerConnection,e=this.connection.provider;try{let n=yield t.createOffer(this.connection.options.constraints);p.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(n.sdp=this.connection.options.sdpTransform(n.sdp)||n.sdp);try{yield t.setLocalDescription(n),p.log("Set localDescription:",n,`for:${this.connection.peer}`);let r={sdp:n,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type===fe.Data){let o=this.connection;r=O(b({},r),{label:o.label,reliable:o.reliable,serialization:o.serialization})}e.socket.send({type:V.Offer,payload:r,dst:this.connection.peer})}catch(r){r!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(e.emitError(T.WebRTC,r),p.log("Failed to setLocalDescription, ",r))}}catch(n){e.emitError(T.WebRTC,n),p.log("Failed to createOffer, ",n)}})}_makeAnswer(){return oe(this,null,function*(){let t=this.connection.peerConnection,e=this.connection.provider;try{let n=yield t.createAnswer();p.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(n.sdp=this.connection.options.sdpTransform(n.sdp)||n.sdp);try{yield t.setLocalDescription(n),p.log("Set localDescription:",n,`for:${this.connection.peer}`),e.socket.send({type:V.Answer,payload:{sdp:n,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(r){e.emitError(T.WebRTC,r),p.log("Failed to setLocalDescription, ",r)}}catch(n){e.emitError(T.WebRTC,n),p.log("Failed to create answer, ",n)}})}handleSDP(t,e){return oe(this,null,function*(){e=new RTCSessionDescription(e);let n=this.connection.peerConnection,r=this.connection.provider;p.log("Setting remote description",e);let o=this;try{yield n.setRemoteDescription(e),p.log(`Set remoteDescription:${t} for:${this.connection.peer}`),t==="OFFER"&&(yield o._makeAnswer())}catch(s){r.emitError(T.WebRTC,s),p.log("Failed to setRemoteDescription, ",s)}})}handleCandidate(t){return oe(this,null,function*(){p.log("handleCandidate:",t);try{yield this.connection.peerConnection.addIceCandidate(t),p.log(`Added ICE candidate for:${this.connection.peer}`)}catch(e){this.connection.provider.emitError(T.WebRTC,e),p.log("Failed to handleCandidate, ",e)}})}_addTracksToConnection(t,e){if(p.log(`add tracks from stream ${t.id} to peer connection`),!e.addTrack)return p.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");t.getTracks().forEach(n=>{e.addTrack(n,t)})}_addStreamToMediaConnection(t,e){p.log(`add stream ${t.id} to media connection ${e.connectionId}`),e.addStream(t)}},ti=class extends En.EventEmitter{emitError(t,e){p.error("Error:",e),this.emit("error",new Cn(`${t}`,e))}},Cn=class extends Error{constructor(t,e){typeof e=="string"?super(e):(super(),Object.assign(this,e)),this.type=t}},ii=class extends ti{get open(){return this._open}constructor(t,e,n){super(),this.peer=t,this.provider=e,this.options=n,this._open=!1,this.metadata=n.metadata}},ni=class i extends ii{static#e=this.ID_PREFIX="mc_";get type(){return fe.Media}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(t,e,n){super(t,e,n),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||i.ID_PREFIX+H.randomToken(),this._negotiator=new ei(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}_initializeDataChannel(t){this.dataChannel=t,this.dataChannel.onopen=()=>{p.log(`DC#${this.connectionId} dc connection success`),this.emit("willCloseOnRemote")},this.dataChannel.onclose=()=>{p.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}addStream(t){p.log("Receiving stream",t),this._remoteStream=t,super.emit("stream",t)}handleMessage(t){let e=t.type,n=t.payload;switch(t.type){case V.Answer:this._negotiator.handleSDP(e,n.sdp),this._open=!0;break;case V.Candidate:this._negotiator.handleCandidate(n.candidate);break;default:p.warn(`Unrecognized message type:${e} from peer:${this.peer}`);break}}answer(t,e={}){if(this._localStream){p.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=t,e&&e.sdpTransform&&(this.options.sdpTransform=e.sdpTransform),this._negotiator.startConnection(O(b({},this.options._payload),{_stream:t}));let n=this.provider._getMessages(this.connectionId);for(let r of n)this.handleMessage(r);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}},Sn=class{constructor(t){this._options=t}_buildRequest(t){let e=this._options.secure?"https":"http",{host:n,port:r,path:o,key:s}=this._options,a=new URL(`${e}://${n}:${r}${o}${s}/${t}`);return a.searchParams.set("ts",`${Date.now()}${Math.random()}`),a.searchParams.set("version",Pn.version),fetch(a.href,{referrerPolicy:this._options.referrerPolicy})}retrieveId(){return oe(this,null,function*(){try{let t=yield this._buildRequest("id");if(t.status!==200)throw new Error(`Error. Status:${t.status}`);return t.text()}catch(t){p.error("Error retrieving ID",t);let e="";throw this._options.path==="/"&&this._options.host!==H.CLOUD_HOST&&(e=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+e)}})}listAllPeers(){return oe(this,null,function*(){try{let t=yield this._buildRequest("peers");if(t.status!==200){if(t.status===401){let e="";throw this._options.host===H.CLOUD_HOST?e="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":e="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+e)}throw new Error(`Error. Status:${t.status}`)}return t.json()}catch(t){throw p.error("Error retrieving list peers",t),new Error("Could not get list peers from the server."+t)}})}},ri=class i extends ii{static#e=this.ID_PREFIX="dc_";static#t=this.MAX_BUFFERED_AMOUNT=8388608;get type(){return fe.Data}constructor(t,e,n){super(t,e,n),this.connectionId=this.options.connectionId||i.ID_PREFIX+No(),this.label=this.options.label||this.connectionId,this.reliable=!!this.options.reliable,this._negotiator=new ei(this),this._negotiator.startConnection(this.options._payload||{originator:!0,reliable:this.reliable})}_initializeDataChannel(t){this.dataChannel=t,this.dataChannel.onopen=()=>{p.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=e=>{p.log(`DC#${this.connectionId} dc onmessage:`,e.data)},this.dataChannel.onclose=()=>{p.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}close(t){if(t?.flush){this.send({__peerData:{type:"close"}});return}this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this.dataChannel=null),this.open&&(this._open=!1,super.emit("close"))}send(t,e=!1){if(!this.open){this.emitError(si.NotOpenYet,"Connection is not open. You should listen for the `open` event before sending messages.");return}return this._send(t,e)}handleMessage(t){return oe(this,null,function*(){let e=t.payload;switch(t.type){case V.Answer:yield this._negotiator.handleSDP(t.type,e.sdp);break;case V.Candidate:yield this._negotiator.handleCandidate(e.candidate);break;default:p.warn("Unrecognized message type:",t.type,"from peer:",this.peer);break}})}},dt=class extends ri{get bufferSize(){return this._bufferSize}_initializeDataChannel(t){super._initializeDataChannel(t),this.dataChannel.binaryType="arraybuffer",this.dataChannel.addEventListener("message",e=>this._handleDataMessage(e))}_bufferedSend(t){(this._buffering||!this._trySend(t))&&(this._buffer.push(t),this._bufferSize=this._buffer.length)}_trySend(t){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>ri.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(t)}catch(e){return p.error(`DC#:${this.connectionId} Error when sending:`,e),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;let t=this._buffer[0];this._trySend(t)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}close(t){if(t?.flush){this.send({__peerData:{type:"close"}});return}this._buffer=[],this._bufferSize=0,super.close()}constructor(...t){super(...t),this._buffer=[],this._bufferSize=0,this._buffering=!1}},ct=class extends dt{close(t){super.close(t),this._chunkedData={}}constructor(t,e,n){super(t,e,n),this.chunker=new Kt,this.serialization=ut.Binary,this._chunkedData={}}_handleDataMessage({data:t}){let e=Ni(t),n=e.__peerData;if(n){if(n.type==="close"){this.close();return}this._handleChunk(e);return}this.emit("data",e)}_handleChunk(t){let e=t.__peerData,n=this._chunkedData[e]||{data:[],count:0,total:t.total};if(n.data[t.n]=new Uint8Array(t.data),n.count++,this._chunkedData[e]=n,n.total===n.count){delete this._chunkedData[e];let r=Oa(n.data);this._handleDataMessage({data:r})}}_send(t,e){let n=ji(t);if(n instanceof Promise)return this._send_blob(n);if(!e&&n.byteLength>this.chunker.chunkedMTU){this._sendChunks(n);return}this._bufferedSend(n)}_send_blob(t){return oe(this,null,function*(){let e=yield t;if(e.byteLength>this.chunker.chunkedMTU){this._sendChunks(e);return}this._bufferedSend(e)})}_sendChunks(t){let e=this.chunker.chunk(t);p.log(`DC#${this.connectionId} Try to send ${e.length} chunks...`);for(let n of e)this.send(n,!0)}},kn=class extends dt{_handleDataMessage({data:t}){super.emit("data",t)}_send(t,e){this._bufferedSend(t)}constructor(...t){super(...t),this.serialization=ut.None}},Mn=class extends dt{_handleDataMessage({data:t}){let e=this.parse(this.decoder.decode(t)),n=e.__peerData;if(n&&n.type==="close"){this.close();return}this.emit("data",e)}_send(t,e){let n=this.encoder.encode(this.stringify(t));if(n.byteLength>=H.chunkedMTU){this.emitError(si.MessageToBig,"Message too big for JSON channel");return}this._bufferedSend(n)}constructor(...t){super(...t),this.serialization=ut.JSON,this.encoder=new TextEncoder,this.decoder=new TextDecoder,this.stringify=JSON.stringify,this.parse=JSON.parse}};var oi=class i extends ti{static#e=this.DEFAULT_KEY="peerjs";get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){let t=Object.create(null);for(let[e,n]of this._connections)t[e]=n;return t}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}constructor(t,e){super(),this._serializers={raw:kn,json:Mn,binary:ct,"binary-utf8":ct,default:ct},this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;let n;if(t&&t.constructor==Object?e=t:t&&(n=t.toString()),e=b({debug:0,host:H.CLOUD_HOST,port:H.CLOUD_PORT,path:"/",key:i.DEFAULT_KEY,token:H.randomToken(),config:H.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin",serializers:{}},e),this._options=e,this._serializers=b(b({},this._serializers),this.options.serializers),this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==H.CLOUD_HOST?this._options.secure=H.isSecure():this._options.host==H.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&p.setLogFunction(this._options.logFunction),p.logLevel=this._options.debug||0,this._api=new Sn(e),this._socket=this._createServerConnection(),!H.supports.audioVideo&&!H.supports.data){this._delayedAbort(T.BrowserIncompatible,"The current browser does not support WebRTC");return}if(n&&!H.validateId(n)){this._delayedAbort(T.InvalidID,`ID "${n}" is invalid`);return}n?this._initialize(n):this._api.retrieveId().then(r=>this._initialize(r)).catch(r=>this._abort(T.ServerError,r))}_createServerConnection(){let t=new xn(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return t.on(ue.Message,e=>{this._handleMessage(e)}),t.on(ue.Error,e=>{this._abort(T.SocketError,e)}),t.on(ue.Disconnected,()=>{this.disconnected||(this.emitError(T.Network,"Lost connection to server."),this.disconnect())}),t.on(ue.Close,()=>{this.disconnected||this._abort(T.SocketClosed,"Underlying socket is already closed.")}),t}_initialize(t){this._id=t,this.socket.start(t,this._options.token)}_handleMessage(t){let e=t.type,n=t.payload,r=t.src;switch(e){case V.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case V.Error:this._abort(T.ServerError,n.msg);break;case V.IdTaken:this._abort(T.UnavailableID,`ID "${this.id}" is taken`);break;case V.InvalidKey:this._abort(T.InvalidKey,`API KEY "${this._options.key}" is invalid`);break;case V.Leave:p.log(`Received leave message from ${r}`),this._cleanupPeer(r),this._connections.delete(r);break;case V.Expire:this.emitError(T.PeerUnavailable,`Could not connect to peer ${r}`);break;case V.Offer:{let o=n.connectionId,s=this.getConnection(r,o);if(s&&(s.close(),p.warn(`Offer received for existing Connection ID:${o}`)),n.type===fe.Media){let c=new ni(r,this,{connectionId:o,_payload:n,metadata:n.metadata});s=c,this._addConnection(r,s),this.emit("call",c)}else if(n.type===fe.Data){let c=new this._serializers[n.serialization](r,this,{connectionId:o,_payload:n,metadata:n.metadata,label:n.label,serialization:n.serialization,reliable:n.reliable});s=c,this._addConnection(r,s),this.emit("connection",c)}else{p.warn(`Received malformed connection type:${n.type}`);return}let a=this._getMessages(o);for(let c of a)s.handleMessage(c);break}default:{if(!n){p.warn(`You received a malformed message from ${r} of type ${e}`);return}let o=n.connectionId,s=this.getConnection(r,o);s&&s.peerConnection?s.handleMessage(t):o?this._storeMessage(o,t):p.warn("You received an unrecognized message:",t);break}}}_storeMessage(t,e){this._lostMessages.has(t)||this._lostMessages.set(t,[]),this._lostMessages.get(t).push(e)}_getMessages(t){let e=this._lostMessages.get(t);return e?(this._lostMessages.delete(t),e):[]}connect(t,e={}){if(e=b({serialization:"default"},e),this.disconnected){p.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError(T.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}let n=new this._serializers[e.serialization](t,this,e);return this._addConnection(t,n),n}call(t,e,n={}){if(this.disconnected){p.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError(T.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!e){p.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}let r=new ni(t,this,O(b({},n),{_stream:e}));return this._addConnection(t,r),r}_addConnection(t,e){p.log(`add connection ${e.type}:${e.connectionId} to peerId:${t}`),this._connections.has(t)||this._connections.set(t,[]),this._connections.get(t).push(e)}_removeConnection(t){let e=this._connections.get(t.peer);if(e){let n=e.indexOf(t);n!==-1&&e.splice(n,1)}this._lostMessages.delete(t.connectionId)}getConnection(t,e){let n=this._connections.get(t);if(!n)return null;for(let r of n)if(r.connectionId===e)return r;return null}_delayedAbort(t,e){setTimeout(()=>{this._abort(t,e)},0)}_abort(t,e){p.error("Aborting!"),this.emitError(t,e),this._lastServerId?this.disconnect():this.destroy()}destroy(){this.destroyed||(p.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(let t of this._connections.keys())this._cleanupPeer(t),this._connections.delete(t);this.socket.removeAllListeners()}_cleanupPeer(t){let e=this._connections.get(t);if(e)for(let n of e)n.close()}disconnect(){if(this.disconnected)return;let t=this.id;p.log(`Disconnect peer with ID:${t}`),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=t,this._id=null,this.emit("disconnected",t)}reconnect(){if(this.disconnected&&!this.destroyed)p.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)p.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(t=e=>{}){this._api.listAllPeers().then(e=>t(e)).catch(e=>this._abort(T.ServerError,e))}};var $e=class i{peer=null;connection=null;connectionState$=new ee("disconnected");connectionId$=new ee("");message$=new M;error$=new M;status$=new M;initializePeer(){try{this.status$.next("Initializing peer connection...");let t=crypto.randomUUID();this.peer=new oi(t,{host:"0.peerjs.com",secure:!0,port:443,debug:3,config:{iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"}]}}),this.peer.on("open",e=>{this.status$.next(`Peer initialized with ID: ${e}`),this.connectionId$.next(e)}),this.peer.on("connection",e=>{this.status$.next(`Incoming connection from: ${e.peer}`),this.handleConnection(e)}),this.peer.on("disconnected",()=>{this.status$.next("Peer disconnected - attempting to reconnect..."),this.peer?.reconnect()}),this.peer.on("error",e=>{this.error$.next(`Peer error: ${e.type} - ${e.message}`),this.connectionState$.next("disconnected")})}catch(t){this.error$.next(`Failed to initialize peer: ${t}`),this.connectionState$.next("disconnected")}}handleConnection(t){this.connection=t,this.connectionState$.next("connecting"),t.on("open",()=>{this.status$.next(`Connection established (${t.peer})`),this.connectionState$.next("connected")}),t.on("data",e=>{try{this.status$.next(`Received message: ${JSON.stringify(e)}`),this.message$.next(e)}catch{this.error$.next("Invalid message format")}}),t.on("close",()=>{this.status$.next("Connection closed"),this.connectionState$.next("disconnected")}),t.on("error",e=>{this.error$.next(`Connection error: ${e.message}`),this.connectionState$.next("disconnected")})}createGame(){this.status$.next("Creating new game..."),this.initializePeer()}joinGame(t){try{if(!t.trim())throw new Error("Peer ID is empty");this.status$.next("Joining game..."),this.initializePeer();let e=0,n=30,r=setInterval(()=>{if(e++,this.status$.next(`Waiting for peer initialization... (${e}/${n})`),this.peer?.id){clearInterval(r),this.status$.next(`Connecting to peer: ${t}`);let o=this.peer.connect(t,{reliable:!0,serialization:"json"});this.status$.next("Connection attempt started..."),o.on("open",()=>{this.status$.next("Connection opened to host"),this.handleConnection(o)}),o.on("error",s=>{this.error$.next(`Connection error: ${s.message}`),this.connectionState$.next("disconnected")})}else e>=n&&(clearInterval(r),this.error$.next("Peer initialization timed out"),this.connectionState$.next("disconnected"))},100);setTimeout(()=>{clearInterval(r),this.connectionState$.value!=="connected"&&(this.error$.next(`Connection attempt timed out. Possible issues:
1. Invalid peer ID
2. Host disconnected
3. Network connectivity issues`),this.connectionState$.next("disconnected"),this.cleanup())},3e4)}catch(e){this.error$.next(`Failed to join game: ${e}`),this.connectionState$.next("disconnected")}}sendMessage(t){if(this.connection?.open)try{this.connection.send(t)}catch(e){this.error$.next(`Failed to send message: ${e}`)}else this.error$.next("Cannot send message: Connection not open")}cleanup(){this.status$.next("Cleaning up connection..."),this.connection?.close(),this.peer?.destroy(),this.connection=null,this.peer=null,this.connectionState$.next("disconnected")}static \u0275fac=function(e){return new(e||i)};static \u0275prov=Z({token:i,factory:i.\u0275fac,providedIn:"root"})};var ai=class i{constructor(t){this.p2pService=t;this.p2pService.message$.subscribe(e=>{this.handleGameMessage(e)})}gameLoop=null;isHost=!1;BALL_SPEED=1;gameState$=new ee({playerScore:0,opponentScore:0,ballPosition:{x:50,y:50,dx:2,dy:2},paddlePosition:50,opponentPaddlePosition:50});pongState$=new ee("waiting");handleGameMessage(t){let e=this.gameState$.value;switch(t.type){case"paddleMove":this.gameState$.next(O(b({},e),{opponentPaddlePosition:t.payload.position}));break;case"gameStart":this.startGame();break;case"ballSync":this.isHost||this.gameState$.next(O(b({},e),{ballPosition:t.payload.ball}));break}}createGame(){this.isHost=!0,this.p2pService.createGame()}joinGame(t){this.isHost=!1,this.p2pService.joinGame(t)}startGame(){if(this.pongState$.next("playing"),this.isHost){let t={type:"gameStart",payload:null};this.p2pService.sendMessage(t),this.startGameLoop()}}movePaddle(t){let e=this.gameState$.value;this.gameState$.next(O(b({},e),{paddlePosition:t}));let n={type:"paddleMove",payload:{position:t}};this.p2pService.sendMessage(n)}startGameLoop(){let t=()=>{if(this.pongState$.value==="playing"){if(this.isHost){this.updateBallPosition();let e={type:"ballSync",payload:{ball:this.gameState$.value.ballPosition}};this.p2pService.sendMessage(e)}this.gameLoop=requestAnimationFrame(t)}};this.gameLoop=requestAnimationFrame(t)}updateBallPosition(){let t=this.gameState$.value,e=b({},t.ballPosition);e.x+=e.dx*this.BALL_SPEED,e.y+=e.dy*this.BALL_SPEED,(e.y<=0||e.y>=100)&&(e.dy*=-1);let n=2,r=15;e.x<=n&&e.y>=t.paddlePosition-r/2&&e.y<=t.paddlePosition+r/2&&(e.dx*=-1,e.x=n),e.x>=100-n&&e.y>=t.opponentPaddlePosition-r/2&&e.y<=t.opponentPaddlePosition+r/2&&(e.dx*=-1,e.x=100-n);let{playerScore:o,opponentScore:s}=t;if(e.x<=0){s++;let a=this.resetBall();e.x=a.x,e.y=a.y,e.dx=a.dx,e.dy=a.dy}if(e.x>=100){o++;let a=this.resetBall();e.x=a.x,e.y=a.y,e.dx=a.dx,e.dy=a.dy}this.gameState$.next(O(b({},t),{ballPosition:e,playerScore:o,opponentScore:s}))}resetBall(){return{x:50,y:50,dx:Math.random()>.5?2:-2,dy:Math.random()>.5?2:-2}}cleanup(){this.gameLoop&&cancelAnimationFrame(this.gameLoop),this.p2pService.cleanup()}static \u0275fac=function(e){return new(e||i)(Bn($e))};static \u0275prov=Z({token:i,factory:i.\u0275fac,providedIn:"root"})};function Na(i,t){if(i&1){let e=he();m(0,"div",12)(1,"h2"),y(2,"Choose Your Role"),h(),m(3,"div",13)(4,"mat-card",14),F("click",function(){te(e);let r=S(3);return ie(r.createGame())}),m(5,"mat-icon"),y(6,"sports_esports"),h(),m(7,"h3"),y(8,"Host Game"),h(),m(9,"p"),y(10,"Create a new game and invite a friend"),h()(),m(11,"div",15)(12,"span"),y(13,"or"),h()(),m(14,"mat-card",16)(15,"mat-icon"),y(16,"group_add"),h(),m(17,"h3"),y(18,"Join Game"),h(),m(19,"div",17)(20,"mat-form-field",18)(21,"mat-label"),y(22,"Game ID"),h(),m(23,"input",19),er("ngModelChange",function(r){te(e);let o=S(3);return Xn(o.remoteConnectionString,r)||(o.remoteConnectionString=r),ie(r)}),h(),m(24,"mat-hint"),y(25,"Get this ID from the game host"),h()(),m(26,"button",20),F("click",function(){te(e);let r=S(3);return ie(r.joinGame())}),y(27," Join Game "),h()()()()()}if(i&2){let e=S(3);v(23),Kn("ngModel",e.remoteConnectionString),v(3),k("disabled",!e.remoteConnectionString)}}function ja(i,t){if(i&1){let e=he();m(0,"div",21)(1,"h2"),y(2,"Game Created!"),h(),m(3,"div",22)(4,"h3"),y(5,"Share this Game ID"),h(),m(6,"div",23),y(7),h(),m(8,"button",24),F("click",function(){te(e);let r=S(3);return ie(r.copyConnectionString())}),m(9,"mat-icon"),y(10,"content_copy"),h(),y(11," Copy Game ID "),h()(),m(12,"div",25),B(13,"mat-spinner",26),m(14,"span"),y(15,"Waiting for player to join..."),h()()()}if(i&2){let e=S(3);v(7),Se(e.localConnectionString)}}function za(i,t){if(i&1&&(m(0,"div",9),C(1,Na,28,2,"div",10)(2,ja,16,1,"div",11),h()),i&2){let e=S(2);v(),k("ngIf",!e.localConnectionString),v(),k("ngIf",e.localConnectionString&&e.isHost)}}function $a(i,t){if(i&1&&(m(0,"div",27),B(1,"mat-spinner",28),m(2,"p"),y(3),h()()),i&2){let e=S(2);v(3),Se(e.connectionStatus)}}function Ua(i,t){if(i&1){let e=he();m(0,"div",29)(1,"h2"),y(2,"Connected!"),h(),m(3,"button",24),F("click",function(){te(e);let r=S(2);return ie(r.startGame())}),y(4," Start Game "),h()()}}function Ga(i,t){if(i&1&&(di(0),C(1,za,3,2,"div",6)(2,$a,4,1,"div",7)(3,Ua,5,0,"div",8),ui()),i&2){let e=t.ngIf;v(),k("ngIf",e==="disconnected"),v(),k("ngIf",e==="connecting"),v(),k("ngIf",e==="connected")}}function Ha(i,t){if(i&1&&(m(0,"div",33)(1,"span",34),y(2),Oe(3,"date"),h(),m(4,"span",35),y(5),h()()),i&2){let e=t.$implicit;z("error",e.type==="error"),v(2),Se(tr(3,4,e.timestamp,"HH:mm:ss")),v(3),Se(e.message)}}function Wa(i,t){if(i&1&&(m(0,"div",30)(1,"h3"),y(2,"Connection Status"),h(),m(3,"div",31),C(4,Ha,6,7,"div",32),h()()),i&2){let e=S();v(4),k("ngForOf",e.connectionLogs)}}function qa(i,t){if(i&1&&(m(0,"div",37)(1,"div",38)(2,"span"),y(3),h(),m(4,"span"),y(5),h()(),m(6,"div",39),B(7,"div",40)(8,"div",41)(9,"div",42),h(),m(10,"div",43),y(11," Use \u2191 and \u2193 arrow keys to move your paddle "),h()()),i&2){let e=t.ngIf;v(3),we("You: ",e.playerScore,""),v(2),we("Opponent: ",e.opponentScore,""),v(2),me("top",e.paddlePosition,"%"),v(),me("left",e.ballPosition.x,"%")("top",e.ballPosition.y,"%"),v(),me("top",e.opponentPaddlePosition,"%")}}function Qa(i,t){if(i&1&&(di(0),C(1,qa,12,10,"div",36),Oe(2,"async"),ui()),i&2){let e=S();v(),k("ngIf",qe(2,1,e.gameState$))}}var $o=class i{constructor(t,e,n){this.p2pService=t;this.pongService=e;this.snackBar=n}destroy$=new M;PADDLE_SPEED=3;lastCopiedString="";isHost=!1;gameState$=new ee({playerScore:0,opponentScore:0,ballPosition:{x:50,y:50,dx:2,dy:2},paddlePosition:50,opponentPaddlePosition:50});connectionState$=new ee("disconnected");pongState$=new ee("waiting");localConnectionString="";remoteConnectionString="";connectionStatus="";connectionLogs=[];handleKeyPress(t){if(this.pongState$.value!=="playing")return;let e=this.gameState$.value;switch(t.key){case"ArrowUp":this.pongService.movePaddle(Math.max(0,e.paddlePosition-this.PADDLE_SPEED));break;case"ArrowDown":this.pongService.movePaddle(Math.min(100,e.paddlePosition+this.PADDLE_SPEED));break}}ngOnInit(){this.gameState$=this.pongService.gameState$,this.connectionState$=this.p2pService.connectionState$,this.pongState$=this.pongService.pongState$,this.p2pService.connectionId$.pipe(Y(this.destroy$)).subscribe(t=>{t&&t!==this.lastCopiedString&&(this.lastCopiedString=t,this.localConnectionString=t,this.isHost&&(navigator.clipboard.writeText(t),this.snackBar.open("Connection ID copied to clipboard!","Close",{duration:3e3})))}),this.p2pService.status$.pipe(Y(this.destroy$)).subscribe(t=>{this.connectionStatus=t,this.addLog(t,"status")}),this.p2pService.error$.pipe(Y(this.destroy$)).subscribe(t=>{this.snackBar.open(t,"Close",{duration:5e3}),this.addLog(t,"error")})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.pongService.cleanup()}createGame(){this.isHost=!0,this.pongService.createGame()}joinGame(){this.isHost=!1,this.pongService.joinGame(this.remoteConnectionString),this.remoteConnectionString=""}copyConnectionString(){navigator.clipboard.writeText(this.localConnectionString),this.snackBar.open("Connection ID copied!","Close",{duration:2e3})}startGame(){this.pongService.startGame()}addLog(t,e){let n=this.connectionLogs[0];n&&n.message===t||(this.connectionLogs=[{message:t,type:e,timestamp:new Date},...this.connectionLogs].slice(0,50))}static \u0275fac=function(e){return new(e||i)(E($e),E(ai),E(Fi))};static \u0275cmp=J({type:i,selectors:[["app-p2p"]],hostBindings:function(e,n){e&1&&F("keydown",function(o){return n.handleKeyPress(o)},!1,$n)},decls:36,vars:10,consts:[[1,"p2p-container"],[1,"description-wrapper"],[1,"description-card"],[1,"game-card"],[4,"ngIf"],["class","connection-logs",4,"ngIf"],["class","connection-setup",4,"ngIf"],["class","connecting",4,"ngIf"],["class","game-lobby",4,"ngIf"],[1,"connection-setup"],["class","connection-choice",4,"ngIf"],["class","host-view",4,"ngIf"],[1,"connection-choice"],[1,"choice-cards"],[1,"choice-card","host",3,"click"],[1,"separator"],[1,"choice-card","join"],[1,"join-form"],["appearance","outline"],["matInput","","placeholder","Paste the game ID here",3,"ngModelChange","ngModel"],["mat-raised-button","","color","accent",3,"click","disabled"],[1,"host-view"],[1,"game-id-section"],[1,"connection-id"],["mat-raised-button","","color","primary",3,"click"],[1,"waiting-text"],["diameter","20"],[1,"connecting"],["diameter","50"],[1,"game-lobby"],[1,"connection-logs"],[1,"log-entries"],["class","log-entry",3,"error",4,"ngFor","ngForOf"],[1,"log-entry"],[1,"log-time"],[1,"log-message"],["class","game-board",4,"ngIf"],[1,"game-board"],[1,"score"],[1,"game-canvas"],[1,"paddle","player"],[1,"ball"],[1,"paddle","opponent"],[1,"instructions"]],template:function(e,n){e&1&&(m(0,"div",0)(1,"div",1),Oe(2,"async"),m(3,"mat-card",2)(4,"mat-card-header")(5,"mat-card-title"),y(6,"Peer-to-Peer Ping Pong"),h(),m(7,"mat-card-subtitle"),y(8,"A WebRTC Experiment in Browser-to-Browser Gaming"),h()(),m(9,"mat-card-content")(10,"p"),y(11," This project explores the boundaries of what's possible in modern web browsers without a backend server. Using WebRTC (Web Real-Time Communication), we can establish direct peer-to-peer connections between browsers, enabling real-time multiplayer gaming with minimal latency. "),h(),m(12,"h3"),y(13,"Technical Stack:"),h(),m(14,"ul")(15,"li")(16,"strong"),y(17,"WebRTC"),h(),y(18," - For direct peer-to-peer communication"),h(),m(19,"li")(20,"strong"),y(21,"Angular 19"),h(),y(22," - Latest version with enhanced performance"),h(),m(23,"li")(24,"strong"),y(25,"RxJS"),h(),y(26," - For reactive state management"),h()(),m(27,"p"),y(28," While WebRTC typically requires a signaling server for initial connection setup, we work around this by having players manually exchange connection strings. This approach, while less user-friendly, demonstrates the possibility of truly serverless multiplayer gaming. "),h()()()(),m(29,"mat-card",3)(30,"mat-card-content"),C(31,Ga,4,3,"ng-container",4),Oe(32,"async"),C(33,Wa,5,1,"div",5)(34,Qa,3,3,"ng-container",4),Oe(35,"async"),h()()()),e&2&&(v(),k("@slideUp",qe(2,4,n.connectionState$)==="disconnected"&&!n.localConnectionString?"visible":"hidden"),v(30),k("ngIf",qe(32,6,n.connectionState$)),v(2),k("ngIf",n.connectionLogs.length),v(),k("ngIf",qe(35,8,n.pongState$)==="playing"))},dependencies:[cr,rr,or,sr,ar,St,Ct,Mr,br,Cr,kr,Sr,xr,bo,yo,vo,Bt,Nt,So,yr,vr,Eo,Mo,co,It,to,Ti],styles:[".p2p-container[_ngcontent-%COMP%]{padding:1rem;max-width:800px;margin:0 auto;min-height:100vh;display:flex;flex-direction:column}.connection-choice[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:2rem;padding:2rem;text-align:center}.separator[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin:.5rem 0}@media (min-width: 768px){.separator[_ngcontent-%COMP%]{margin:0}}.separator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:4px}.connection-id[_ngcontent-%COMP%]{font-size:1.2rem;letter-spacing:1px;background:#00000008;padding:1.5rem;border-radius:8px;margin:1rem 0;word-break:break-all;text-align:center}.connection-info[_ngcontent-%COMP%]{text-align:center;padding:2rem;background:#00000005;border-radius:4px}.connection-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 1rem;color:var(--mat-card-title-text-color)}.connection-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--mat-card-subtitle-text-color);margin-bottom:1rem}.join-game[_ngcontent-%COMP%]{width:100%;max-width:400px;display:flex;flex-direction:column;gap:1rem}.connecting[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem;padding:4rem 2rem;text-align:center}.connecting[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:2rem;font-size:1.1rem;color:var(--mat-card-subtitle-text-color)}.game-lobby[_ngcontent-%COMP%]{text-align:center;padding:3rem}.game-lobby[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:2rem;color:var(--mat-card-title-text-color)}.connection-setup[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem;margin-bottom:2rem}.connection-info[_ngcontent-%COMP%], .join-game[_ngcontent-%COMP%]{background:#00000008;padding:1rem;border-radius:4px}.full-width[_ngcontent-%COMP%]{width:100%}.connecting[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem;padding:2rem}.game-lobby[_ngcontent-%COMP%]{text-align:center;padding:2rem}.game-board[_ngcontent-%COMP%]{height:50vh;max-height:none;margin:1rem 0}@media (min-width: 768px){.game-board[_ngcontent-%COMP%]{height:60vh;margin:1rem auto}}.score[_ngcontent-%COMP%]{position:absolute;top:1rem;left:0;right:0;display:flex;justify-content:center;gap:2rem;color:#fff;font-size:1.5rem;z-index:1}.game-canvas[_ngcontent-%COMP%]{width:100%;height:100%;position:relative}.paddle[_ngcontent-%COMP%]{position:absolute;width:2%;height:15%;background:#fff;transform:translateY(-50%)}.paddle.player[_ngcontent-%COMP%]{left:2%}.paddle.opponent[_ngcontent-%COMP%]{right:2%}.ball[_ngcontent-%COMP%]{position:absolute;width:2%;aspect-ratio:1;background:#fff;border-radius:50%;transform:translate(-50%,-50%)}.instructions[_ngcontent-%COMP%]{color:#fff;text-align:center;margin-top:1rem;font-size:.9rem;opacity:.8}.description-card[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:1.5rem;margin:1rem 0}.description-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.6;margin:1rem 0;color:var(--mat-card-subtitle-text-color)}.description-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:1.5rem 0 .5rem;color:var(--mat-card-title-text-color)}.description-card[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:var(--mat-card-subtitle-text-color)}.description-card[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--mat-card-title-text-color)}.description-card[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{color:var(--mat-card-subtitle-text-color)}.connection-logs[_ngcontent-%COMP%]{margin-top:1rem;max-height:200px}.connection-logs[_ngcontent-%COMP%]   .log-entries[_ngcontent-%COMP%]{max-height:150px}.connection-logs[_ngcontent-%COMP%]   .log-entry[_ngcontent-%COMP%]{padding:.5rem;font-size:.75rem}@media (min-width: 768px){.connection-logs[_ngcontent-%COMP%]   .log-entry[_ngcontent-%COMP%]{padding:.5rem 1rem;font-size:.8rem}}.log-entries[_ngcontent-%COMP%]{max-height:150px;overflow-y:auto;padding:.5rem 0;font-family:SF Mono,Menlo,Monaco,Courier New,monospace}.log-entries[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.log-entries[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.log-entries[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#0003;border-radius:4px}.log-entry[_ngcontent-%COMP%]{padding:.25rem 1rem;font-size:.8rem;line-height:1.4;display:flex;gap:.75rem;color:var(--mat-card-subtitle-text-color)}.log-entry[_ngcontent-%COMP%]:hover{background:#00000005}.log-entry.error[_ngcontent-%COMP%]{color:var(--mat-warn-500);background:rgba(var(--mat-warn-500),.05)}.log-entry.error[_ngcontent-%COMP%]:hover{background:rgba(var(--mat-warn-500),.08)}.log-entry[_ngcontent-%COMP%]   .log-time[_ngcontent-%COMP%]{flex-shrink:0;opacity:.7;font-size:.75rem;min-width:75px}.log-entry[_ngcontent-%COMP%]   .log-message[_ngcontent-%COMP%]{word-break:break-word}.description-wrapper[_ngcontent-%COMP%]{overflow:hidden;transform-origin:top;will-change:transform,opacity,height}.choice-cards[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;width:100%;padding:0 1rem}@media (min-width: 768px){.choice-cards[_ngcontent-%COMP%]{flex-direction:row;gap:2rem;padding:0}}.choice-card[_ngcontent-%COMP%]{padding:1.5rem}@media (min-width: 768px){.choice-card[_ngcontent-%COMP%]{padding:2rem}}.choice-card.join[_ngcontent-%COMP%]{cursor:default}.choice-card.join[_ngcontent-%COMP%]   .join-form[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;gap:1rem}.choice-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:var(--mat-card-shadow)}.choice-card.host[_ngcontent-%COMP%]{border-left:4px solid var(--mat-primary-500)}.choice-card.join[_ngcontent-%COMP%]{border-left:4px solid var(--mat-accent-500)}.choice-card[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:2.5rem;width:2.5rem;height:2.5rem;color:var(--mat-primary-500)}.join[_ngcontent-%COMP%]   .choice-card[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--mat-accent-500)}.choice-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:var(--mat-card-title-text-color);font-size:1.25rem}.choice-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--mat-card-subtitle-text-color);text-align:center;margin:0;font-size:.9rem}.choice-card[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%;max-width:300px}.host-view[_ngcontent-%COMP%]{text-align:center;padding:2rem}.host-view[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--mat-card-title-text-color);margin-bottom:2rem}.host-view[_ngcontent-%COMP%]   .game-id-section[_ngcontent-%COMP%]{background:#00000005;padding:2rem;border-radius:8px;margin:2rem 0}.host-view[_ngcontent-%COMP%]   .waiting-text[_ngcontent-%COMP%]{color:var(--mat-card-subtitle-text-color);font-style:italic}.connection-choice[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;color:var(--mat-card-title-text-color);margin-bottom:1rem}.connection-id[_ngcontent-%COMP%]{font-family:SF Mono,Menlo,Monaco,Courier New,monospace;font-size:1rem;letter-spacing:1px;background:var(--mat-card-bg-color);padding:1.5rem;border-radius:8px;margin:1rem 0;word-break:break-all;border:1px solid var(--mat-card-subtitle-text-color, rgba(0, 0, 0, .12));color:var(--mat-card-title-text-color)}.connecting[_ngcontent-%COMP%]{padding:4rem 2rem}.connecting[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:2rem;font-size:1.1rem}.game-id-section[_ngcontent-%COMP%]{background:var(--mat-card-bg-color);padding:1rem;margin:1rem 0}@media (min-width: 768px){.game-id-section[_ngcontent-%COMP%]{padding:2rem;margin:2rem 0}}.game-id-section[_ngcontent-%COMP%]   .connection-id[_ngcontent-%COMP%]{padding:1rem;margin:1rem 0;font-size:.9rem}@media (min-width: 768px){.game-id-section[_ngcontent-%COMP%]   .connection-id[_ngcontent-%COMP%]{padding:1.5rem;font-size:1rem}}.connection-logs[_ngcontent-%COMP%]{margin-top:1rem;border:1px solid var(--mat-card-subtitle-text-color, rgba(0, 0, 0, .12));border-radius:8px;background:var(--mat-card-bg-color)}.connection-logs[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{padding:1rem;margin:0;border-bottom:1px solid var(--mat-card-subtitle-text-color, rgba(0, 0, 0, .12));color:var(--mat-card-title-text-color)}.log-entries[_ngcontent-%COMP%]{max-height:200px;overflow-y:auto;padding:.5rem}.log-entries[_ngcontent-%COMP%]   .log-entry[_ngcontent-%COMP%]{padding:.5rem;border-radius:4px;margin-bottom:.25rem;background:var(--mat-card-bg-color);border:1px solid transparent}.log-entries[_ngcontent-%COMP%]   .log-entry[_ngcontent-%COMP%]:hover{border-color:var(--mat-card-subtitle-text-color, rgba(0, 0, 0, .12))}.log-entries[_ngcontent-%COMP%]   .log-entry.error[_ngcontent-%COMP%]{border-color:var(--mat-warn-500);background:color-mix(in srgb,var(--mat-warn-500) 5%,var(--mat-card-bg-color))}.game-board[_ngcontent-%COMP%]{max-height:70vh;aspect-ratio:4/3;margin:1rem auto;max-width:800px}@media (max-width: 768px){.game-board[_ngcontent-%COMP%]{aspect-ratio:3/4;height:60vh}}@media (max-width: 768px){.p2p-container[_ngcontent-%COMP%], .connection-choice[_ngcontent-%COMP%], .game-id-section[_ngcontent-%COMP%]{padding:1rem}}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{margin:1rem 0}@media (min-width: 768px){h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{margin:1.5rem 0}}.waiting-text[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:1rem;margin-top:1rem}"],data:{animation:[Ve("slideUp",[_e("visible",ne({transform:"translateY(0)",opacity:1,height:"*"})),_e("hidden",ne({transform:"translateY(-100%)",opacity:0,height:"0",margin:"0"})),ve("visible => hidden",[ge("0.3s ease-out")]),ve("hidden => visible",[ge("0.3s ease-in")])])]}})};export{$o as P2pComponent};
